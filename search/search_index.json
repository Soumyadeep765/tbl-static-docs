{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"What is TeleBotHost?","text":"<p>TeleBotHost is a cloud platform that lets you create, run, and manage Telegram bots without setting up servers or worrying about infrastructure.</p> <p>It provides a ready-to-use environment where your bot code runs instantly and stays online 24/7.</p>"},{"location":"#what-telebothost-does","title":"What TeleBotHost Does","text":"<p>\u2022 Hosts your Telegram bots in the cloud \u2022 Executes bot code securely and reliably \u2022 Handles updates, webhooks, and scaling \u2022 Removes the need for VPS or self-hosting  </p>"},{"location":"#how-it-works","title":"How It Works","text":"<ol> <li>You create a bot using BotFather  </li> <li>Add the bot token to TeleBotHost  </li> <li>Write your bot logic  </li> <li>TeleBotHost runs and manages it automatically  </li> </ol> <p>No server setup. No maintenance.</p>"},{"location":"#why-use-telebothost","title":"Why Use TeleBotHost?","text":"<p>\u2022 No VPS or server required \u2022 Fast deployment \u2022 Built-in Telegram API support \u2022 Secure sandbox execution \u2022 Easy to manage multiple bots  </p>"},{"location":"#who-is-it-for","title":"Who Is It For?","text":"<p>\u2022 Beginners who want to avoid server setup \u2022 Developers building Telegram bots fast \u2022 Teams managing multiple bots \u2022 Anyone who wants reliable bot hosting  </p>"},{"location":"about-tbl/","title":"What is TBL?","text":"<p>TBL (Tele Bot Lang) is the scripting language used by TeleBotHost to build and run Telegram bots.</p> <p>It is made specifically for bot logic and avoids everything that is not needed for Telegram bots.</p>"},{"location":"about-tbl/#what-is-tbl-used-for","title":"What is TBL Used For?","text":"<p>TBL is used to handle everyday bot tasks like replying to messages, reacting to commands, processing user input, calling external APIs, and storing small pieces of data related to users or the bot itself.</p> <p>It focuses only on what a Telegram bot needs to do and nothing more.</p>"},{"location":"about-tbl/#how-tbl-works","title":"How TBL Works","text":"<p>TBL follows a command-based execution model.</p> <p>Instead of running event listeners or background processes, the bot reacts to incoming updates. When something happens on Telegram, TBL finds the matching command and runs its logic.</p> <p>This makes bot behavior predictable and easy to understand.</p>"},{"location":"about-tbl/#tbl-behavior","title":"TBL Behavior","text":"<p>TBL is designed to be safe and controlled.</p> <p>Each execution is isolated, runs for a short time, and then ends. There is no permanent process running in the background.</p> <p>Because of this design, bots stay fast and stable even when many users interact at the same time.</p>"},{"location":"about-tbl/#execution-style","title":"Execution Style","text":"<p>TBL runs only when needed.</p> <p>A user sends a message, the bot handles it, and the execution finishes. Nothing keeps running after that unless a new update arrives.</p> <p>This on-demand model keeps resource usage low and performance high.</p>"},{"location":"about-tbl/#asynchronous-behavior","title":"Asynchronous Behavior","text":"<p>TBL allows async operations where required, but avoids unnecessary complexity.</p> <p>There are no long-running timers, uncontrolled loops, or hidden background tasks. Everything happens in a clear and predictable flow.</p>"},{"location":"about-tbl/#why-tbl-feels-different","title":"Why TBL Feels Different","text":"<p>TBL is not trying to be a full programming language like Node.js or Python.</p> <p>It is intentionally limited and focused. These limits help prevent common mistakes, improve security, and make bot development simpler.</p> <p>Because of this, developers spend more time building bot logic and less time managing infrastructure.</p>"},{"location":"bot-vs-api/","title":"Bot v/s Api instances","text":"<p>Both Bot and Api are built-in objects available inside TBL commands. They are used for different purposes.</p>"},{"location":"bot-vs-api/#bot-use-cases","title":"Bot \u2014 Use Cases","text":"<p>Use Bot when you want to:</p> <ul> <li>Control command flow</li> <li>Move the user to another command</li> <li>Send simple messages or media</li> <li>Manage bot-level data</li> <li>Build step-by-step bot logic</li> </ul> <p>Bot is focused on how the bot behaves internally.</p>"},{"location":"bot-vs-api/#api-use-cases","title":"Api \u2014 Use Cases","text":"<p>Use Api when you want to:</p> <ul> <li>Communicate directly with Telegram</li> <li>Use advanced Telegram features</li> <li>Work with inline buttons, callbacks, or edits</li> <li>Call Telegram methods not provided by Bot</li> <li>Use newly released Telegram API features</li> </ul> <p>Api is focused on talking directly to Telegram.</p>"},{"location":"bot-vs-api/#case-sensitivity","title":"Case Sensitivity","text":"<p>Both Bot and Api are case-sensitive.</p> <p>This means method names must be written exactly as defined. Using incorrect casing will cause runtime errors.</p> <p>Always use the correct capitalization when calling methods.</p>"},{"location":"bot-vs-api/#simple-rule","title":"Simple Rule","text":"<ul> <li>Use Bot for bot logic and flow</li> <li>Use Api for Telegram-level operations</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide explains how to create and run your first Telegram bot using TeleBotHost.</p>"},{"location":"getting-started/#1-open-telebothost","title":"1. Open TeleBotHost","text":"<p>Go to the official website. console.telebothost.com/</p>"},{"location":"getting-started/#2-login-or-signup","title":"2. Login or Signup","text":"<p>\u2022 Log in to your account \u2022 Or create a new account if you are new  </p> <p>After login, you will see the dashboard.</p>"},{"location":"getting-started/#3-create-a-telegram-bot","title":"3: Create a Telegram Bot","text":"<ol> <li>Open Telegram  </li> <li>Search for @BotFather  </li> <li>Send <code>/newbot</code> </li> <li>Set a bot name and username  </li> <li>Copy the bot token provided  </li> </ol>"},{"location":"getting-started/#4-add-bot-on-telebothost","title":"4. Add Bot on TeleBotHost","text":"<ol> <li>Open the TeleBotHost dashboard  </li> <li>Click Add Bot </li> <li>Paste your bot token  </li> <li>Click Create </li> </ol> <p>Your bot will be added to the list.</p>"},{"location":"getting-started/#5-open-bot-panel","title":"5. Open Bot Panel","text":"<p>Click on your bot from the dashboard to open its management panel.</p> <p>From here you can: \u2022 Add commands \u2022 Write TBL code \u2022 Start or stop the bot  </p>"},{"location":"getting-started/#6-start-the-bot","title":"6. Start the Bot","text":"<p>Click Launch Bot to start your bot.</p> <p>Your bot is now online and ready to respond on Telegram.</p>"},{"location":"getting-started/#7-add-your-first-command","title":"7. Add Your First Command","text":"<ol> <li>Open the Commands section  </li> <li>Add a command like <code>/start</code> </li> <li>Save the command  </li> </ol> <p>Test it by sending <code>/start</code> to your bot on Telegram.</p>"},{"location":"getting-started/#tutorial","title":"Tutorial","text":"<p>For a complete step-by-step walkthrough with screenshots, see the official tutorial:</p> <p>telebothost.com/tutorials/adding-first-bot</p>"},{"location":"learning-tbl/","title":"Learning TBL","text":"<p>TBL (Tele Bot Lang) is basically JavaScript, with built-in features made for Telegram bots.</p> <p>You write normal JavaScript logic, and TeleBotHost already gives you everything needed to talk to Telegram.</p>"},{"location":"learning-tbl/#how-tbl-works","title":"How TBL Works","text":"<ul> <li>TBL uses JavaScript syntax</li> <li>Telegram-related features are built in</li> <li>No imports or setup needed</li> </ul>"},{"location":"learning-tbl/#sync-and-async-behavior","title":"Sync and Async Behavior","text":"<p>TBL is mostly synchronous, so code runs line by line.</p> <p>Some operations are asynchronous, and for those cases <code>await</code> and <code>Promise</code> are supported.</p> <p>Only required async behavior is allowed, keeping bots safe and predictable.</p>"},{"location":"learning-tbl/#simple-tbl-example","title":"Simple TBL Example","text":"<p>A very simple example that sends a message:</p> <pre><code>Bot.sendMessage(\"Hello from my first TBL bot!\");\n</code></pre> <p>That\u2019s all you need to start.</p>"},{"location":"learning-tbl/#whats-next","title":"What\u2019s Next","text":"<p>After this, you can learn about variables, user input, and async requests to build real bot logic.</p>"},{"location":"res-instance-advance/","title":"res.render() In-Depth","text":"<p>The <code>res.render()</code> method is used to render another command or template as an HTTP response.</p> <p>It automatically detects the response content type, renders templates when needed, and exposes useful context data to the rendered command.</p> <p>This makes it ideal for building web pages, APIs, dashboards, and webapps using TBL.</p>"},{"location":"res-instance-advance/#automatic-content-type-detection","title":"Automatic Content Type Detection","text":"<p><code>res.render()</code> automatically sets the correct <code>Content-Type</code> based on the file extension.</p> <p>Examples:</p> <pre><code>res.render(\"page.html\")        // Content-Type: text/html\nres.render(\"data.json\")        // Content-Type: application/json\nres.render(\"script.js\")        // Content-Type: application/javascript\nres.render(\"style.css\")        // Content-Type: text/css\nres.render(\"api.xml\")          // Content-Type: application/xml\nres.render(\"plain-text\")       // Content-Type: text/plain\n</code></pre> <p>No manual headers are required.</p>"},{"location":"res-instance-advance/#data-passing-and-template-context","title":"Data Passing and Template Context","text":"<p>You can pass data to <code>res.render()</code> using the second argument.</p> <p>Example webapp URL:</p> <p>/webapp/showProfile?section=settings&amp;view=compact</p> <p>Example render call:</p> <pre><code>res.render(\"profile-template.html\", {\n  data: {\n    user: user,\n    profile: userProfile,\n    preferences: userPrefs\n  }\n})\n</code></pre>"},{"location":"res-instance-advance/#available-data-inside-the-rendered-template","title":"Available Data Inside the Rendered Template","text":"<p>Inside <code>profile-template.html</code>, you can access:</p> <ul> <li><code>user</code> \u2013 current user object (user-based webhook only)</li> <li><code>profile</code> \u2013 custom data passed via <code>data</code></li> <li><code>preferences</code> \u2013 custom data passed via <code>data</code></li> <li><code>params</code> \u2013 URL query parameters <code>{ section: \"settings\", view: \"compact\" }</code></li> <li>All global TBL variables (<code>Api</code>, <code>Bot</code>, <code>msg</code>, <code>request</code>, etc.)</li> </ul> <p>Example usage inside template:</p> <pre><code>&lt;h1&gt;Welcome &lt;%= user.first_name %&gt;&lt;/h1&gt;\n&lt;p&gt;Profile: &lt;%= profile %&gt;&lt;/p&gt;\n</code></pre>"},{"location":"res-instance-advance/#practical-examples","title":"Practical Examples","text":""},{"location":"res-instance-advance/#example-1-json-api-endpoint","title":"Example 1: JSON API Endpoint","text":"<p>This example returns structured JSON data.</p> <pre><code>let userData = {\n  id: user.id,\n  name: user.first_name,\n  premium: user.premium || false,\n  join_date: user.join_date\n}\n\nres.status(200)\n   .set(\"Access-Control-Allow-Origin\", \"*\")\n   .json({\n     status: \"success\",\n     data: userData,\n     timestamp: Date.now()\n   })\n</code></pre> <p>Note</p> <p>The <code>user</code> object is available only in user-based webhooks.</p>"},{"location":"res-instance-advance/#example-2-render-an-html-page","title":"Example 2: Render an HTML Page","text":"<pre><code>res.render(\"dashboard.html\", {\n  data: {\n    stats: statsData,\n    user: user\n  }\n})\n</code></pre> <p>This renders an HTML page with EJS support.</p>"},{"location":"res-instance-advance/#example-3-render-json-via-template","title":"Example 3: Render JSON via Template","text":"<pre><code>res.render(\"api-response.json\", {\n  data: {\n    ok: true,\n    result: resultData\n  }\n})\n</code></pre> <p>Content type is automatically set to <code>application/json</code>.</p>"},{"location":"res-instance-advance/#important-notes","title":"Important Notes","text":"<ul> <li><code>res.render()</code> ends execution immediately</li> <li>Content type is detected automatically</li> <li>EJS rendering works for HTML and text</li> <li><code>params</code> always contains query parameters</li> <li>User data is available only in user-based webhooks</li> </ul> <p>Tip</p> <p>Use <code>res.render()</code> to keep API logic and presentation cleanly separated.</p>"},{"location":"res-instance/","title":"res Instance","text":""},{"location":"res-instance/#response-object-res","title":"Response Object (res)","text":"<p>The res instance is used to send custom HTTP responses from webhook and Webapp commands.</p> <p>It allows your bot to behave like an HTTP API or web endpoint.</p> <p>Using <code>res</code>, you can return:</p> <ul> <li>JSON</li> <li>HTML</li> <li>XML</li> <li>Plain text</li> <li>Redirects</li> <li>Rendered templates (EJS)</li> </ul> <p>Once a response is sent using <code>res</code>, execution ends.</p>"},{"location":"res-instance/#response-methods","title":"Response Methods","text":""},{"location":"res-instance/#setkey-value","title":"set(key, value)","text":"<p>Sets HTTP headers on the response.</p> <pre><code>res.set(\"Content-Type\", \"application/json\")\n   .set(\"X-Custom-Header\", \"my-value\")\n</code></pre> <p>Headers can be chained.</p>"},{"location":"res-instance/#statuscode","title":"status(code)","text":"<p>Sets the HTTP response status code.</p> <pre><code>res.status(200)\nres.status(404)\nres.status(500)\n</code></pre> <p>You can chain this with other methods.</p>"},{"location":"res-instance/#sendbody","title":"send(body)","text":"<p>Sends a response with any content type.</p> <pre><code>res.send(\"Hello World\")\nres.send({ message: \"Success\", data: { id: 1 } })\nres.status(201).send(\"Resource created\")\n</code></pre> <p>The content type is auto-detected.</p>"},{"location":"res-instance/#jsonobj","title":"json(obj)","text":"<p>Sends a JSON response with <code>application/json</code> content type.</p> <pre><code>res.json({\n  status: \"success\",\n  user: user.name,\n  data: processedData\n})\n</code></pre> <p>This is the most common method for API-style responses.</p>"},{"location":"res-instance/#htmlcontent","title":"html(content)","text":"<p>Sends an HTML response.</p> <p>If EJS tags are detected, the content is automatically rendered.</p> <pre><code>res.html(\"&lt;h1&gt;Welcome&lt;/h1&gt;&lt;p&gt;Hello World&lt;/p&gt;\")\n</code></pre> <p>With EJS rendering:</p> <pre><code>res.html(`\n  &lt;h1&gt;Welcome &lt;%= user.first_name %&gt;&lt;/h1&gt;\n  &lt;p&gt;Your ID: &lt;%= user.id %&gt;&lt;/p&gt;\n  &lt;% if (user.premium) { %&gt;\n    &lt;div class='premium'&gt;Premium User&lt;/div&gt;\n  &lt;% } %&gt;\n`)\n</code></pre>"},{"location":"res-instance/#xmlcontent","title":"xml(content)","text":"<p>Sends an XML response with <code>application/xml</code> content type.</p> <pre><code>res.xml('&lt;?xml version=\"1.0\"?&gt;&lt;response&gt;&lt;status&gt;success&lt;/status&gt;&lt;/response&gt;')\n</code></pre>"},{"location":"res-instance/#textcontent","title":"text(content)","text":"<p>Sends a plain text response.</p> <p>EJS templates are auto-rendered if detected.</p> <pre><code>res.text(\"This is plain text\")\n\nconst textTemplate = \"Hello &lt;%= name %&gt;, welcome!\"\nres.text(textTemplate)\n</code></pre>"},{"location":"res-instance/#redirecturl","title":"redirect(url)","text":"<p>Redirects the request to another URL or command.</p> <pre><code>res.redirect(\"https://example.com/success\")\nres.redirect(\"/another-command\")\n</code></pre> <p>Redirect responses are sent immediately.</p>"},{"location":"res-instance/#rendercommandpath-options","title":"render(commandPath, options)","text":"<p>Renders another command\u2019s output as the response.</p> <p>Content type is detected automatically based on the target.</p> <pre><code>res.render(\"user-profile\")\n</code></pre> <p>With options:</p> <pre><code>res.render(\"api-data.json\", {\n  data: { user: { name: \"John\", age: 30 } }\n})\n</code></pre> <p>Rendering an HTML command:</p> <pre><code>res.render(\"dashboard.html\", {\n  data: {\n    user: user,\n    stats: userStats,\n    params: params\n  }\n})\n</code></pre>"},{"location":"res-instance/#notes","title":"Notes","text":"<ul> <li>The <code>res</code> instance is available only in webhook and Webapp commands</li> <li>Sending a response ends execution</li> <li>Headers, status, and body can be chained</li> <li>EJS rendering works automatically for HTML and text</li> <li>If no response is sent, a default 2xx response is returned</li> </ul>"},{"location":"used-language/","title":"What Language Does TeleBotHost Use?","text":"<p>TeleBotHost uses TBL (Tele Bot Lang) to build Telegram bots.</p> <p>TBL is the native language of TeleBotHost and is designed specifically for Telegram bot development.</p>"},{"location":"used-language/#what-is-tbl","title":"What is TBL?","text":"<p>TBL (Tele Bot Lang) is a lightweight scripting language made only for Telegram bots on TeleBotHost.</p> <p>Its syntax is JavaScript-like, so if you already know JavaScript basics, you can start using TBL immediately.</p>"},{"location":"used-language/#why-tbl-instead-of-nodejs-or-python","title":"Why TBL Instead of Node.js or Python?","text":"<p>TeleBotHost does not run raw Node.js or Python code.</p> <p>Instead, it uses TBL, which runs inside a secure and optimized sandbox built only for bot execution. This makes bot development simpler and safer.</p> <p>Benefits of using TBL: \u2022 Better security \u2022 Faster execution \u2022 No server or VPS needed \u2022 Built-in Telegram bot features  </p>"},{"location":"used-language/#javascript-like-syntax","title":"JavaScript-Like Syntax","text":"<p>TBL feels familiar to JavaScript developers.</p> <p>Example: </p> <pre><code>Bot.sendMessage(\"Hi\");\n</code></pre> <p>You write simple logic, and TeleBotHost handles everything else in the background.</p> <p>Tip</p> <p>If you already know JavaScript and are familiar with it, TBL will feel like a toy for you.</p>"},{"location":"used-language/#summary","title":"Summary","text":"<p>\u2022 TeleBotHost uses TBL (Tele Bot Lang) \u2022 TBL is JavaScript-inspired \u2022 Designed only for Telegram bots \u2022 No server setup required  </p>"},{"location":"api-instance/","title":"Api Instance","text":"<p>The Api instance is used to interact with Telegram.</p> <p>It is a simple wrapper around the Telegram Bot API, so you don\u2019t need to work with raw HTTP requests.</p> <p>In TBL, <code>Api</code> is already available in every command. You never create or import it.</p>"},{"location":"api-instance/#why-api-exists","title":"Why Api Exists","text":"<p>Telegram\u2019s raw Bot API is low-level and complex.</p> <p>Using it directly would require:</p> <ul> <li>Building HTTP requests manually</li> <li>Passing chat IDs every time</li> <li>Handling responses and errors</li> </ul> <p>The Api instance simplifies all of this.</p> <p>You just call:</p> <p>Api.xxx({ ... })</p> <p>And TBL handles the rest.</p>"},{"location":"api-instance/#chat-context","title":"Chat Context","text":"<p>By default, Api methods use the current chat \u2014 the chat where the command was triggered.</p> <p>You can also explicitly pass a <code>chat_id</code> if you want to send a message to a different chat.</p>"},{"location":"api-instance/#what-api-is-used-for","title":"What Api Is Used For","text":"<p>Using Api, your bot can:</p> <ul> <li>Send messages</li> <li>Send photos and media</li> <li>Edit or delete messages</li> <li>Create interactive buttons</li> </ul> <p>The Api instance is the main way your bot communicates with Telegram.</p>"},{"location":"api-instance/api-async/","title":"Using await with Api Calls","text":"<p>In TBL, some <code>Api</code> methods return a response. You can use <code>await</code> to get that response immediately and continue logic in the same command.</p> <p>This is useful when your next step depends on the result of an Api call.</p>"},{"location":"api-instance/api-async/#how-await-works-in-tbl","title":"How await Works in TBL","text":"<p>When you use <code>await</code>:</p> <ul> <li>Execution pauses at that line</li> <li>The Api call finishes</li> <li>The response is returned</li> <li>Execution continues with the result</li> </ul> <p>This allows step-by-step logic inside one command.</p>"},{"location":"api-instance/api-async/#basic-example","title":"Basic Example","text":"<p>Get bot information and use it right away:</p> <pre><code>let me = await Api.getMe()\n\nif (me.ok) {\n  Api.sendMessage({\n    text: \"My bot id is \" + me.result.id\n  })\n}\n</code></pre> <p>Here:</p> <ul> <li><code>Api.getMe()</code> is called</li> <li>The result is stored in <code>me</code></li> <li>The response is checked</li> <li>A message is sent using the returned data</li> </ul>"},{"location":"api-instance/api-async/#another-example","title":"Another Example","text":"<p>Send a message and store the response:</p> <pre><code>let sent = await Api.sendMessage({\n  text: \"Hello again!\"\n})\n</code></pre> <p>The <code>sent</code> variable now contains information about the message that was sent.</p> <p>This is useful when you need:</p> <ul> <li>Message IDs</li> <li>Status confirmation</li> <li>Result-based logic</li> </ul>"},{"location":"api-instance/api-async/#when-to-use-await","title":"When to Use await","text":"<p>Use <code>await</code> when:</p> <ul> <li>You need the Api response immediately</li> <li>Logic depends on the result</li> <li>You want everything in one command</li> </ul> <p>If you don\u2019t need the response, you can call <code>Api.xxx()</code> without <code>await</code>.</p>"},{"location":"api-instance/api-async/#important-notes","title":"Important Notes","text":"<ul> <li>Only supported Api calls can be awaited</li> <li>Code still runs safely inside TBL</li> <li>Avoid unnecessary awaits to keep commands fast</li> </ul>"},{"location":"api-instance/api-async/#summary","title":"Summary","text":"<ul> <li><code>await</code> lets you get Api responses inline</li> <li>Results are stored in variables</li> <li>Logic stays simple and readable</li> <li>Best for sequential, result-based flows</li> </ul>"},{"location":"api-instance/api-chain/","title":"Api chain Methods","text":""},{"location":"api-instance/api-chain/#chained-methods-on-apixxx-responses","title":"Chained Methods on Api.xxx Responses","text":"<p>Every response object returned from methods like <code>Api.sendMessage()</code>, <code>Api.sendPhoto()</code> etc. supports chained methods.</p> <p>This means once a message is sent, you can immediately act on that same message.</p> <p>You can edit it, reply to it, pin it, react to it, forward it, or delete it \u2014 all using the returned response object.</p>"},{"location":"api-instance/api-chain/#why-chained-methods-exist","title":"Why Chained Methods Exist","text":"<p>Chained methods make message handling:</p> <ul> <li>Faster</li> <li>Cleaner</li> <li>More readable</li> <li>More powerful</li> </ul> <p>Instead of searching for message IDs or writing extra logic, you directly operate on the message you just sent.</p>"},{"location":"api-instance/api-chain/#basic-example","title":"Basic Example","text":"<p>Send a message and then perform actions on it:</p> <pre><code>// Send a message and chain methods\nlet data = await Api.sendMessage({ text: \"Hello user!\" })\n\nawait data.pin()                        // Pin the message\nawait data.react(\"\ud83d\udc4d\")                 // Add a reaction\nawait data.editText(\"Updated text\")    // Edit message text\nawait data.reply(\"Replied Message\")    // Reply to the message\n</code></pre> <p>Here:</p> <ul> <li><code>data</code> represents the sent message</li> <li>All actions apply to that exact message</li> <li>No manual IDs are required</li> </ul>"},{"location":"api-instance/api-chain/#how-it-works","title":"How It Works","text":"<ul> <li><code>Api.sendMessage()</code> sends a message</li> <li>Telegram returns message data</li> <li>TBL wraps that response</li> <li>Chained methods become available on it</li> </ul> <p>Each chained method internally calls the correct Telegram API method.</p>"},{"location":"api-instance/api-chain/#supported-chained-methods","title":"Supported Chained Methods","text":""},{"location":"api-instance/api-chain/#editing-and-updating","title":"Editing and Updating","text":"<ul> <li><code>editText(text, {...options})</code></li> <li><code>editCaption(caption, {...options})</code></li> <li><code>editMedia(media, {...options})</code></li> <li><code>editReplyMarkup(rm, {...options})</code></li> </ul>"},{"location":"api-instance/api-chain/#message-control","title":"Message Control","text":"<ul> <li><code>delete()</code></li> <li><code>pin(dn = false)</code> <code>dn</code> \u2192 disable notification</li> <li><code>unpin()</code></li> </ul>"},{"location":"api-instance/api-chain/#reactions","title":"Reactions","text":"<ul> <li><code>react(emoji, big = false)</code> <code>big</code> \u2192 large reaction</li> </ul>"},{"location":"api-instance/api-chain/#forwarding-and-copying","title":"Forwarding and Copying","text":"<ul> <li><code>forward(to, {...options})</code></li> <li><code>copy(to, {...options})</code></li> </ul>"},{"location":"api-instance/api-chain/#reply-methods","title":"Reply Methods","text":"<ul> <li><code>reply(text, {...options})</code></li> <li><code>replyPhoto(photo, {...options})</code></li> <li><code>replyVideo(video, {...options})</code></li> <li><code>replyAudio(audio, {...options})</code></li> <li><code>replyVoice(voice, {...options})</code></li> <li><code>replyDocument(doc, {...options})</code></li> <li><code>replySticker(sticker, {...options})</code></li> <li><code>replyAnimation(anim, {...options})</code></li> <li><code>replyLocation(lat, lon, {...options})</code></li> <li><code>replyContact(phone, fn, {...options})</code></li> <li><code>replyPoll(q, options, {...options})</code></li> <li><code>replyDice(emoji = \"\", {...options})</code></li> </ul>"},{"location":"api-instance/api-chain/#message-info-and-utilities","title":"Message Info and Utilities","text":"<ul> <li><code>get()</code>   Returns message ID and metadata</li> <li><code>downloadFile()</code>   Download url of attached media if available</li> </ul>"},{"location":"api-instance/api-chain/#live-location-and-poll-control","title":"Live Location and Poll Control","text":"<ul> <li><code>editLiveLocation(lat, lon, {...options})</code></li> <li><code>stopLiveLocation({...options})</code></li> <li><code>stopPoll({...options})</code></li> </ul>"},{"location":"api-instance/api-chain/#example-edit-then-delete","title":"Example: Edit Then Delete","text":"<pre><code>let msg = await Api.sendMessage({ text: \"Temporary message\" })\n\nawait msg.editText(\"This will be deleted soon\")\nawait msg.delete()\n</code></pre>"},{"location":"api-instance/api-chain/#when-to-use-chained-methods","title":"When to Use Chained Methods","text":"<p>Use chained methods when:</p> <ul> <li>You want to act on the message you just sent</li> <li>You need clean and readable logic</li> <li>You want to avoid handling message IDs manually</li> <li>You\u2019re building interactive or dynamic bots</li> </ul> Note <p>Chained methods are available only on message responses. All Api calls return chainable responses (But will not work for all only work for message sending methods)</p>"},{"location":"api-instance/api-dynamic/","title":"Api dynamic use cases","text":""},{"location":"api-instance/api-dynamic/#dynamic-methods-in-apixxx","title":"Dynamic Methods in Api.xxx","text":"<p>Sometimes a specific Telegram Bot API method may not yet exist as a built-in method inside TBL\u2019s <code>Api</code> instance.</p> <p>In such cases, you don\u2019t need to wait for a platform update.</p> <p>TBL allows you to call any official Telegram Bot API method dynamically using:</p> <p>Api.call(\"methodName\", { ...parameters })</p>"},{"location":"api-instance/api-dynamic/#why-dynamic-methods-exist","title":"Why Dynamic Methods Exist","text":"<p>Telegram frequently adds new API methods and features.</p> <p>Dynamic methods ensure that:</p> <ul> <li>You can use new Telegram features immediately</li> <li>You are not blocked by missing built-in methods</li> <li>TBL stays compatible with the latest Telegram API</li> </ul> <p>As long as Telegram supports a method, you can use it.</p>"},{"location":"api-instance/api-dynamic/#basic-usage","title":"Basic Usage","text":"<p>Calling a Telegram method dynamically:</p> <pre><code>Api.call(\"methodName\", {\n  /* parameters */\n})\n</code></pre> <p>Note</p> <p><code>\"methodName\"</code> must exactly match the official Telegram API method name.</p>"},{"location":"api-instance/api-dynamic/#example-calling-getchat-dynamically","title":"Example: Calling getChat Dynamically","text":"<p>Suppose <code>getChat</code> is not available as a built-in method.</p> <p>You can still call it like this:</p> <pre><code>Api.call(\"getChat\", {\n  chat_id: 4444443444\n})\n</code></pre>"},{"location":"api-instance/api-dynamic/#how-it-works","title":"How It Works","text":"<ul> <li><code>\"getChat\"</code> is the official Telegram method name</li> <li>The second argument is an object of parameters</li> <li>TBL sends the request directly to Telegram</li> <li>Telegram returns the response</li> </ul> <p>The response behaves exactly like any normal Api call.</p> <p>Tip</p> <p>If a built-in Api method exists, always prefer using it first. Use <code>Api.call()</code> only when the method is missing.</p>"},{"location":"api-instance/api-dynamic/#using-the-response","title":"Using the Response","text":"<p>Dynamic method responses:</p> <ul> <li>Can be awaited</li> <li>Contain <code>ok</code> and <code>result</code></li> <li>Can be used in further logic</li> </ul> <p>Info</p> <p>Dynamic calls fully support async behavior and error handling.</p>"},{"location":"api-instance/api-dynamic/#important-warning","title":"Important Warning","text":"<p>Warning</p> <p>TBL does not validate parameters for dynamic methods. Make sure parameters exactly match Telegram\u2019s API specification.</p> <p>Incorrect parameters may result in Telegram API errors.</p>"},{"location":"api-instance/api-dynamic/#official-telegram-reference","title":"Official Telegram Reference","text":"<p>To see all available Telegram methods and their parameters, refer to the official documentation:</p> <p>core.telegram.org/bots/api</p> <p>Any method listed there can be used with <code>Api.call()</code>.</p>"},{"location":"api-instance/api-dynamic/#summary","title":"Summary","text":"<ul> <li><code>Api.call()</code> enables dynamic Telegram API access</li> <li>Works with any official Telegram method</li> <li>Keeps bots future-proof</li> <li>Best used only when built-in methods are unavailable</li> </ul>"},{"location":"api-instance/api-notes/","title":"Api Notes","text":""},{"location":"api-instance/api-notes/#notes-about-apixxx","title":"Notes About Api.xxx","text":"<p>The <code>Api</code> instance is designed for direct communication with Telegram.</p> <p>Every call you make using <code>Api.xxx()</code> is sent straight to the Telegram Bot API.</p>"},{"location":"api-instance/api-notes/#invalid-api-method-calls","title":"Invalid Api Method Calls","text":"<p>If you call a method that does not exist, for example:</p> <pre><code>Api.hitMe()\n</code></pre> <p>This is a TBL-side error, not a Telegram error.</p> <p>What happens:</p> <ul> <li>TBL throws a runtime error</li> <li>The error can be handled using the <code>!</code> command</li> <li>Execution stops for that command</li> </ul> <p>Warning</p> <p>Calling a non-existent Api method will always trigger an error. Make sure the method exists or use <code>Api.call()</code> for dynamic methods.</p>"},{"location":"api-instance/api-notes/#telegram-api-errors","title":"Telegram API Errors","text":"<p>Errors returned by Telegram itself behave differently.</p> <p>For example:</p> <ul> <li>Invalid parameters</li> <li>Permission issues</li> <li>Chat not found</li> <li>Bot blocked by user</li> </ul> <p>In these cases:</p> <ul> <li>The Api call does not crash execution</li> <li>The error is logged in the platform\u2019s bot error logs</li> <li>The command continues running unless you explicitly check the response</li> </ul> <p>Telegram API errors are considered silent by default.</p>"},{"location":"api-instance/api-notes/#handling-telegram-errors-with-await","title":"Handling Telegram Errors with await","text":"<p>If you use <code>await</code>, you can manually inspect the Telegram response.</p> <pre><code>let res = await Api.sendMessage({ text: \"Hello!\" })\n\nif (!res.ok) {\n  Api.sendMessage({ text: \"Failed to send message\" })\n}\n</code></pre> <p>This allows you to:</p> <ul> <li>Detect Telegram-side failures</li> <li>Handle them gracefully</li> <li>Avoid relying only on platform logs</li> </ul> <p>Tip</p> <p>Use <code>await</code> when you need confirmation that a Telegram action succeeded.</p>"},{"location":"api-instance/api-notes/#error-handling-summary","title":"Error Handling Summary","text":"<ul> <li>Invalid <code>Api.xxx</code> method \u2192 TBL error \u2192 handled by <code>!</code></li> <li>Telegram API error \u2192 silent \u2192 logged on platform</li> <li><code>await</code> lets you manually detect Telegram failures</li> </ul>"},{"location":"api-instance/api-notes/#best-practices","title":"Best Practices","text":"<ul> <li>Use valid Api method names</li> <li>Prefer built-in Api methods when available</li> <li>Use <code>Api.call()</code> for unsupported Telegram methods</li> <li>Use <code>await</code> when the result matters</li> <li>Always define a <code>!</code> command for safety</li> </ul> <p>Understanding this difference helps you debug bots faster and write more reliable logic.</p>"},{"location":"api-instance/api-on-run/","title":"Using Callback Commands with on_run","text":"<p>Sometimes you want to continue execution in another command after an Api call finishes.</p> <p>TBL provides <code>on_run</code> for this purpose.</p> <p><code>on_run</code> lets you tell TBL which command to run next when an Api call completes.</p>"},{"location":"api-instance/api-on-run/#what-is-on_run","title":"What is on_run?","text":"<p><code>on_run</code> is an option you can pass to any Api call.</p> <p>When the Api request finishes:</p> <ul> <li>The specified command is executed</li> <li>The response data is passed using options</li> </ul> <p>This is useful for splitting logic into clean, separate commands.</p>"},{"location":"api-instance/api-on-run/#why-use-on_run","title":"Why Use on_run?","text":"<p>Using <code>on_run</code> helps you:</p> <ul> <li>Keep commands small and readable</li> <li>Separate API calls from response handling</li> <li>Avoid long and complex command logic</li> <li>Reuse response-handling commands</li> </ul> <p>Think of it as \u201cdo this, then continue there\u201d.</p>"},{"location":"api-instance/api-on-run/#basic-example","title":"Basic Example","text":"<p>Calling an Api method and continuing in another command:</p> <pre><code>// Get bot info and continue in another command\nApi.getMe({\n  on_run: \"afterGetMe\"\n})\n</code></pre> <p>Here:</p> <ul> <li><code>Api.getMe</code> calls Telegram</li> <li>When it finishes, the command <code>afterGetMe</code> is triggered automatically</li> </ul>"},{"location":"api-instance/api-on-run/#handling-the-callback-command","title":"Handling the Callback Command","text":"<p>Inside the <code>afterGetMe</code> command, the Api response is available in <code>options</code>.</p> <pre><code>// Inside \"afterGetMe\" command\nif (options.ok) {\n  Api.sendMessage({\n    text: \"Bot username: @\" + options.result.username\n  })\n}\n</code></pre>"},{"location":"api-instance/api-on-run/#what-options-contains","title":"What <code>options</code> Contains","text":"<p>In callback commands:</p> <ul> <li><code>options.ok</code> \u2192 whether the Api call succeeded</li> <li><code>options.result</code> \u2192 data returned by Telegram</li> <li><code>options</code> structure depends on the Api method used</li> </ul> <p>You don\u2019t need to manually pass data \u2014 TBL does it automatically.</p>"},{"location":"api-instance/api-on-run/#how-the-flow-works","title":"How the Flow Works","text":"<p>Step by step:</p> <ul> <li>A command calls <code>Api.method({ on_run })</code></li> <li>Telegram processes the request</li> <li>TBL receives the response</li> <li>The callback command is executed</li> <li>Response data is available via <code>options</code></li> </ul> <p>No polling, no waiting, no manual wiring.</p>"},{"location":"api-instance/api-on-run/#when-to-use-callback-commands","title":"When to Use Callback Commands","text":"<p>Use <code>on_run</code> when:</p> <ul> <li>You need the result of an Api call</li> <li>You want to keep logic organized</li> <li>You want to continue execution cleanly</li> <li>One command depends on the result of another action</li> </ul>"},{"location":"api-instance/api-on-run/#important-notes","title":"Important Notes","text":"<ul> <li><code>on_run</code> must be a valid command name</li> <li>The callback command receives options automatically</li> <li>Callback commands run like normal commands</li> <li>Errors can still be handled using the <code>!</code> command</li> </ul>"},{"location":"api-instance/api-on-run/#summary","title":"Summary","text":"<ul> <li><code>on_run</code> lets you continue execution in another command</li> <li>It works with any Api call</li> <li>Response data is available via options</li> <li>Helps keep bot logic clean and modular</li> </ul>"},{"location":"api-instance/simple/","title":"Using the Api Instance","text":"<p>This page shows simple examples of using the Api instance.</p> <p>All examples assume the command is already running and the Api instance is already available.</p>"},{"location":"api-instance/simple/#apisendmessage","title":"Api.sendMessage","text":"<p>Used to send text messages to a chat.</p>"},{"location":"api-instance/simple/#simple-message","title":"Simple Message","text":"<pre><code>Api.sendMessage({\n  text: \"Hello user!\"\n})\n</code></pre> <p>This sends a message to the current chat (the chat where the command was triggered).</p> <p>Tip</p> <p>You usually don\u2019t need to pass <code>chat_id</code>. Api automatically knows which chat to reply to.</p>"},{"location":"api-instance/simple/#message-with-formatting","title":"Message with Formatting","text":"<pre><code>Api.sendMessage({\n  text: \"*Hello!* Welcome to my bot \ud83d\ude0a\",\n  parse_mode: \"Markdown\"\n})\n</code></pre> <p>Telegram Markdown can be used to format text such as bold, italic, and inline code.</p> <p>Tip</p> <p>Keep formatting simple to avoid Telegram Markdown parsing issues.</p>"},{"location":"api-instance/simple/#message-with-inline-buttons","title":"Message with Inline Buttons","text":"<pre><code>Api.sendMessage({\n  text: \"Choose an option below:\",\n  reply_markup: {\n    inline_keyboard: [\n      [{ text: \"Visit Website\", url: \"https://telebothost.com\" }],\n      [{ text: \"Help\", callback_data: \"help\" }]\n    ]\n  }\n})\n</code></pre> <p>Inline buttons let users interact with your bot without typing messages.</p>"},{"location":"api-instance/simple/#apisendphoto","title":"Api.sendPhoto","text":"<p>Used to send images to a chat.</p>"},{"location":"api-instance/simple/#send-a-photo-with-caption","title":"Send a Photo with Caption","text":"<pre><code>Api.sendPhoto({\n  photo: \"https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg\",\n  caption: \"Cute dog \ud83d\udc15\"\n})\n</code></pre> <p>This photo is sent to the current chat by default.</p> <p>Tip</p> <p>You can use URLs or file IDs for the <code>photo</code> field.</p>"},{"location":"api-instance/simple/#using-chat_id-explicitly","title":"Using chat_id Explicitly","text":"<p>By default, Api methods send messages to the current chat.</p> <p>If you want to send a message to a different chat, you can pass <code>chat_id</code> manually.</p> <pre><code>Api.sendMessage({\n  chat_id: 123456789,\n  text: \"This message goes to another chat\"\n})\n</code></pre> <p>Warning</p> <p>Only use explicit <code>chat_id</code> when you are sure the bot has access to that chat.</p>"},{"location":"api-instance/simple/#telegram-api-reference","title":"Telegram API Reference","text":"<p>The Api instance supports all methods available in the Telegram Bot API.</p> <p>To see all possible methods and options, refer to the official Telegram documentation:</p> <p>core.telegram.org/bots/api</p> <p>Any method listed there can be used in TBL as:</p> <p>Api.methodName({ ... })</p>"},{"location":"api-instance/simple/#summary","title":"Summary","text":"<ul> <li>Api methods accept an object as input</li> <li>Messages are sent to the current chat by default</li> <li><code>chat_id</code> can be passed explicitly if needed</li> <li>Formatting and buttons are supported</li> <li>Api directly maps to Telegram Bot API methods</li> </ul>"},{"location":"bot-instance/","title":"Bot Instance","text":"<p>The Bot instance is used to control your bot directly.</p> <p>It provides simple methods that help manage how your bot works inside commands.</p>"},{"location":"bot-instance/#what-bot-is-used-for","title":"What Bot Is Used For","text":"<p>The Bot instance is commonly used to:</p> <ul> <li>Run other commands</li> <li>Send messages easily</li> <li>Control command flow</li> <li>Manage bot-level properties</li> </ul> <p>It is designed to make command-based logic easier and cleaner.</p>"},{"location":"bot-instance/#availability","title":"Availability","text":"<p>The Bot instance is always available inside every command.</p> <p>You don\u2019t need to create it or import it.</p> <p>You can use it directly.</p>"},{"location":"bot-instance/#important-alert","title":"Important Alert","text":"<p>Warning</p> <p>All Bot instance methods are case-sensitive.</p> <p>For example: - <code>Bot.runCommand()</code> \u2705 - <code>Bot.runcommand()</code> \u274c</p> <p>Always use the correct method name and casing.</p>"},{"location":"bot-instance/#how-it-fits-in-tbl","title":"How It Fits in TBL","text":"<p>TBL is command-driven.</p> <p>The Bot instance helps you move between commands and organize bot behavior in a clear way.</p> <p>It focuses on bot logic, not low-level details.</p>"},{"location":"bot-instance/cmd-execute/","title":"Command Execution","text":"<p>The Bot instance allows you to execute another command programmatically.</p> <p>This is useful when you want to:</p> <ul> <li>Move a user to a new flow</li> <li>Reuse existing commands</li> <li>Control navigation inside your bot</li> </ul> <p>These methods do not return any value \u2014 they only execute the target command.</p>"},{"location":"bot-instance/cmd-execute/#running-another-command","title":"Running Another Command","text":"<p>You can run another command directly using <code>Bot.runCommand</code>.</p>"},{"location":"bot-instance/cmd-execute/#basic-example","title":"Basic Example","text":"<pre><code>// Run another command\nBot.runCommand(\"/start\")\n</code></pre> <p>This immediately executes the <code>/start</code> command.</p>"},{"location":"bot-instance/cmd-execute/#running-a-command-with-options","title":"Running a Command with Options","text":"<p>You can pass custom data to the target command.</p> <pre><code>// Run with options\n\n/* \nBot.runCommnad(\"command\", options)\n*/\n\nBot.runCommand(\"/ok\", { key: 111 })\n</code></pre> <p>Inside the <code>/ok</code> command, this data is available as options</p>"},{"location":"bot-instance/cmd-execute/#options-availability","title":"Options Availability","text":"<ul> <li>The passed object is available as options in the target command</li> <li>You can pass any JSON-serializable data</li> <li>Useful for sharing state between commands</li> </ul>"},{"location":"bot-instance/cmd-execute/#invalid-command-handling","title":"Invalid Command Handling","text":"<p>If the target command does not exist:</p> <ul> <li>A runtime error is thrown</li> <li>The error can be caught using the <code>!</code> command</li> <li>Execution stops unless handled</li> </ul> <p>Warning</p> <p>Running a non-existent command will throw an error unless explicitly told not to.</p>"},{"location":"bot-instance/cmd-execute/#advanced-command-execution","title":"Advanced Command Execution","text":"<p>For more control, you can use <code>Bot.run()</code>.</p> <p>This allows you to define execution behavior using an options object.</p>"},{"location":"bot-instance/cmd-execute/#basic-usage","title":"Basic Usage","text":"<pre><code>Bot.run({\n  command: \"/contact\"\n})\n</code></pre>"},{"location":"bot-instance/cmd-execute/#available-parameters-for-botrun","title":"Available Parameters for Bot.run()","text":""},{"location":"bot-instance/cmd-execute/#command-required","title":"command (required)","text":"<ul> <li>The command to execute  </li> <li>Example: <code>/start</code></li> <li>You can include parameters in the command string</li> </ul>"},{"location":"bot-instance/cmd-execute/#options","title":"options","text":"<ul> <li>A JSON object passed to the target command</li> <li>Available as <code>options</code> inside that command</li> </ul>"},{"location":"bot-instance/cmd-execute/#user_id","title":"user_id","text":"<ul> <li>User ID to execute the command for</li> <li>Default: current <code>user.id</code></li> </ul>"},{"location":"bot-instance/cmd-execute/#chat_id","title":"chat_id","text":"<ul> <li>Chat ID to execute the command in</li> <li>Default: current <code>chat.id</code></li> </ul>"},{"location":"bot-instance/cmd-execute/#ignoremissingcommand","title":"ignoreMissingCommand","text":"<ul> <li>If <code>true</code>, no error is thrown when the command is not found</li> <li>Default: <code>false</code></li> </ul>"},{"location":"bot-instance/cmd-execute/#example-with-full-options","title":"Example with Full Options","text":"<pre><code>Bot.run({\n  command: \"/next\",\n  options: { step: 2 },\n  user_id: 123456789,\n  chat_id: 987654321,\n  ignoreMissingCommand: true\n})\n</code></pre>"},{"location":"bot-instance/cmd-execute/#when-to-use-ignoremissingcommand","title":"When to Use ignoreMissingCommand","text":"<p>This option is useful when:</p> <ul> <li>Running optional commands</li> <li>Building fallback logic</li> <li>Working with system commands like <code>@</code> or <code>*</code></li> </ul> <p>Tip</p> <p>Use <code>ignoreMissingCommand</code> carefully. Silently skipping commands can make debugging harder.</p>"},{"location":"bot-instance/cmd-execute/#summary","title":"Summary","text":"<ul> <li><code>Bot.runCommand()</code> runs a command directly</li> <li><code>Bot.run()</code> provides advanced control</li> <li>Options are passed through <code>options</code></li> <li>Missing commands throw errors by default</li> <li>Errors can be handled using the <code>!</code> command</li> </ul>"},{"location":"bot-instance/data-store/","title":"Storing Bot level Data","text":""},{"location":"bot-instance/data-store/#bot-data-store","title":"Bot Data Store","text":"<p>The Bot Data Store is a simple key\u2013value storage that belongs to the bot itself.</p> <p>It is not user-specific and not chat-specific. Anything stored here is shared across the entire bot.</p> <p>All data store methods are synchronous, so you do not need <code>await</code>.</p>"},{"location":"bot-instance/data-store/#setting-data","title":"Setting Data","text":"<p>You can store values using <code>Bot.set()</code>.</p> <pre><code>// Set values\nBot.set(\"version\", \"1.2.3\", \"String\")\nBot.set(\"config\", { apiKey: \"xyz\" }, \"Json\")\n</code></pre> <ul> <li>The first argument is the key</li> <li>The second argument is the value</li> <li>The third argument is the data type (optional)</li> </ul> <p>Info</p> <p>If the type is not provided, TBL automatically detects it.</p>"},{"location":"bot-instance/data-store/#reading-data","title":"Reading Data","text":"<p>You can read stored values using <code>Bot.get()</code>.</p> <pre><code>let v = Bot.get(\"version\")   // \"1.2.3\"\nlet c = Bot.get(\"config\")    // { apiKey: \"xyz\" }\n</code></pre> <p>If the key does not exist, the result will be <code>null</code>.</p>"},{"location":"bot-instance/data-store/#deleting-data","title":"Deleting Data","text":"<p>Delete a single key:</p> <pre><code>Bot.del(\"version\")\n</code></pre> <p>Delete all stored data:</p> <pre><code>Bot.delAll()\n</code></pre> <p>Warning</p> <p><code>Bot.delAll()</code> permanently removes all bot-level data. Use it carefully.</p>"},{"location":"bot-instance/data-store/#checking-existence","title":"Checking Existence","text":"<p>Check if a key exists:</p> <pre><code>let has = Bot.has(\"config\")  // true\n</code></pre> <p>This is useful before reading or overwriting values.</p>"},{"location":"bot-instance/data-store/#listing-stored-data","title":"Listing Stored Data","text":"<p>Get all stored key\u2013value pairs:</p> <pre><code>let all = Bot.getAll()\n</code></pre> <p>Get the total number of stored keys:</p> <pre><code>let count = Bot.count()\n</code></pre> <p>Get all stored key names:</p> <pre><code>let names = Bot.getNames()   // [\"config\"]\n</code></pre>"},{"location":"bot-instance/data-store/#supported-data-types","title":"Supported Data Types","text":"<p>The following data types are supported:</p> <ul> <li>String \u2013 Plain text or auto-converted values</li> <li>Number \u2013 Integers or floats</li> <li>Boolean \u2013 true or false</li> <li>List \u2013 Arrays (ordered lists)</li> <li>Date \u2013 Date objects</li> <li>Json \u2013 Objects or arrays stored as JSON</li> </ul> <p>Note</p> <p>When storing complex data, <code>Json</code> is recommended for consistency.</p>"},{"location":"bot-instance/data-store/#important-notes","title":"Important Notes","text":"<ul> <li>Data is stored at the bot level</li> <li>Values persist across command executions</li> <li>Data is shared between all users</li> <li>Methods are synchronous</li> <li>Keys are case-sensitive</li> </ul> <p>Tip</p> <p>Use the Bot Data Store for configuration, feature flags, counters, or bot state \u2014 not for user-specific data.</p>"},{"location":"bot-instance/get-user/","title":"Getting Bot Users","text":""},{"location":"bot-instance/get-user/#getting-bot-users","title":"Getting Bot Users","text":"<p><code>Bot.getUsers()</code> returns an array of user or chat IDs that have interacted with your bot.</p> <p>This method returns a Promise, so it must be awaited.</p> <p>It removes the need to manually store user IDs in bot properties.</p> <p>Info</p> <p>This feature is available in TBL but is not 100% stable yet.</p>"},{"location":"bot-instance/get-user/#basic-usage","title":"Basic Usage","text":"<p>Get all users who interacted with the bot:</p> <pre><code>let data = await Bot.getUsers()\n</code></pre> <ul> <li>Return type: Array</li> <li>Must be awaited</li> <li>By default, channel IDs are excluded</li> </ul> <p>You can use the result directly:</p> <pre><code>Bot.sendMessage({ text: data })\n</code></pre>"},{"location":"bot-instance/get-user/#available-filters","title":"Available Filters","text":"<p>Filters are optional. If no filter is provided, all users are returned (excluding channels).</p>"},{"location":"bot-instance/get-user/#chattype","title":"chatType","text":"<p>Filter by chat type:</p> <ul> <li><code>private</code></li> <li><code>group</code></li> <li><code>channel</code></li> </ul>"},{"location":"bot-instance/get-user/#premiumonly","title":"premiumOnly","text":"<p>Filter only premium users (only applies to private chats)</p>"},{"location":"bot-instance/get-user/#examples-with-filters","title":"Examples with Filters","text":""},{"location":"bot-instance/get-user/#get-only-group-chats","title":"Get Only Group Chats","text":"<pre><code>let groupUsers = await Bot.getUsers({\n  chatType: \"group\"\n})\n</code></pre>"},{"location":"bot-instance/get-user/#get-only-private-chats","title":"Get Only Private Chats","text":"<pre><code>let privateUsers = await Bot.getUsers({\n  chatType: \"private\"\n})\n</code></pre>"},{"location":"bot-instance/get-user/#get-only-premium-users","title":"Get Only Premium Users","text":"<pre><code>let premiumUsers = await Bot.getUsers({\n  premiumOnly: true\n})\n</code></pre> <p>These results contain private chat IDs only.</p>"},{"location":"bot-instance/get-user/#sending-results","title":"Sending Results","text":"<pre><code>Bot.sendMessage(\"Group users: \" + groupUsers.length)\nBot.sendMessage(\"Premium users: \" + premiumUsers.length)\n</code></pre>"},{"location":"bot-instance/get-user/#channel-ids-note","title":"Channel IDs Note","text":"<p>Note</p> <p>By default, channel IDs are excluded.</p> <p>To include channels, you must explicitly use:</p> <p>chatType: \"channel\"</p>"},{"location":"bot-instance/get-user/#important-notes","title":"Important Notes","text":"<ul> <li><code>Bot.getUsers()</code> must be awaited</li> <li>Returns an array of IDs</li> <li>Filters are optional</li> <li>Channel chats are excluded by default</li> <li>Feature is still under development</li> </ul>"},{"location":"bot-instance/read-cmd/","title":"Reading Commands and Their Code","text":"<p>TBL allows you to read existing commands programmatically using the Bot instance.</p> <p>This is useful for:</p> <ul> <li>Debugging command logic</li> <li>Building admin or moderation tools</li> <li>Showing command previews</li> <li>Creating documentation bots</li> <li>Auditing or inspecting commands safely</li> </ul>"},{"location":"bot-instance/read-cmd/#reading-command-code-only","title":"Reading Command Code Only","text":"<p>The <code>Bot.read()</code> method returns only the raw source code of a command.</p> <p>It does not include command settings like answer, keyboard, aliases, or reply behavior.</p> <p>The returned value is a plain string.</p>"},{"location":"bot-instance/read-cmd/#example","title":"Example","text":"<pre><code>// Read the raw code of a command\nlet code = Bot.read(\"/start\")\n\n// it returns a String\n</code></pre> <p>Use this when you only care about how the command works internally.</p> <p>Tip</p> <p><code>Bot.read()</code> is ideal for code previews, AI analysis, or debugging logic issues.</p>"},{"location":"bot-instance/read-cmd/#reading-full-command-object","title":"Reading Full Command Object","text":"<p>The <code>Bot.readCommand()</code> method returns the entire command definition.</p> <p>This includes:</p> <ul> <li>The command code</li> <li>Answer text</li> <li>Keyboard configuration</li> <li>Aliases</li> <li>need_reply flag</li> <li>Other command settings</li> </ul>"},{"location":"bot-instance/read-cmd/#example_1","title":"Example","text":"<pre><code>// Read full command structure\nlet cmd = Bot.readCommand(\"/start\")\n</code></pre>"},{"location":"bot-instance/read-cmd/#example-response","title":"Example Response","text":"<pre><code>{\n  \"code\": \"const {random} = require(\\\"/send\\\");\\n\\nconst x = random(1, 100);\\nBot.sendMessage(\\\"Random: \\\" + x);\",\n  \"answer\": null,\n  \"keyboard\": null,\n  \"aliases\": [],\n  \"allow_only_group\": false,\n  \"need_reply\": false\n}\n</code></pre> <p>Use this when you need both the logic and the configuration of a command.</p> <p>Info</p> <p><code>Bot.readCommand()</code> is commonly used in admin panels, editors, and bot management systems.</p>"},{"location":"bot-instance/read-cmd/#important-notes","title":"Important Notes","text":"<ul> <li>Both methods are read-only</li> <li>The target command must exist</li> <li>Missing commands will throw an error</li> <li>Errors can be handled using the <code>!</code> command</li> <li>Returned data never executes automatically</li> </ul>"},{"location":"bot-instance/sending-msg/","title":"Sending Messages (simplified way)","text":""},{"location":"bot-instance/sending-msg/#sending-messages-and-media-with-bot","title":"Sending Messages and Media with Bot","text":"<p>These Bot methods send messages or media to the current chat.</p> <ul> <li>All messages go to the current chat by default</li> <li>Using <code>await</code> is optional</li> <li>If awaited, the Telegram API response is returned</li> <li>Only some methods support chained actions</li> </ul>"},{"location":"bot-instance/sending-msg/#sending-text-messages","title":"Sending Text Messages","text":""},{"location":"bot-instance/sending-msg/#simple-text","title":"Simple Text","text":"<pre><code>Bot.sendMessage(\"Hello user!\")\n</code></pre>"},{"location":"bot-instance/sending-msg/#object-format","title":"Object Format","text":"<pre><code>Bot.sendMessage({ text: \"Hello user!\" })\n</code></pre>"},{"location":"bot-instance/sending-msg/#with-formatting","title":"With Formatting","text":"<pre><code>let res = await Bot.sendMessage(\n  \"Hello friend\",\n  { parse_mode: \"HTML\" }\n)\n</code></pre>"},{"location":"bot-instance/sending-msg/#sending-keyboards","title":"Sending Keyboards","text":""},{"location":"bot-instance/sending-msg/#string-format","title":"String Format","text":"<pre><code>Bot.sendKeyboard(\"Choose an option:\", \"Yes,No\")\n</code></pre>"},{"location":"bot-instance/sending-msg/#object-format_1","title":"Object Format","text":"<pre><code>Bot.sendKeyboard({\n  text: \"Choose an option:\",\n  keyboard: \"Yes,No\"\n})\n</code></pre>"},{"location":"bot-instance/sending-msg/#sending-media","title":"Sending Media","text":"<p>All media methods support string and object formats.</p>"},{"location":"bot-instance/sending-msg/#photo","title":"Photo","text":"<pre><code>Bot.sendPhoto(\"photo.jpg\")\n\nBot.sendPhoto({\n  photo: \"photo.jpg\",\n  caption: \"Nice view!\"\n})\n</code></pre>"},{"location":"bot-instance/sending-msg/#document","title":"Document","text":"<pre><code>Bot.sendDocument(\"file.pdf\", \"Here is your pdf\")\n\nBot.sendDocument({\n  document: \"file.pdf\",\n  caption: \"Here is your file\"\n})\n</code></pre>"},{"location":"bot-instance/sending-msg/#audio","title":"Audio","text":"<pre><code>Bot.sendAudio(\"music.mp3\")\n\nBot.sendAudio({\n  audio: \"music.mp3\",\n  caption: \"Here is your music\"\n})\n</code></pre>"},{"location":"bot-instance/sending-msg/#video","title":"Video","text":"<pre><code>Bot.sendVideo(\"video.mp4\")\n\nBot.sendVideo({\n  video: \"video.mp4\",\n  caption: \"Watch this\"\n})\n</code></pre>"},{"location":"bot-instance/sending-msg/#voice","title":"Voice","text":"<pre><code>Bot.sendVoice(\"voice.ogg\")\n\nBot.sendVoice({\n  voice: \"voice.ogg\",\n  caption: \"Voice note\"\n})\n</code></pre>"},{"location":"bot-instance/sending-msg/#using-chained-methods-limited-support","title":"Using Chained Methods (Limited Support)","text":"<p>Only specific Bot methods return a response that supports chained methods (when used with <code>await</code>).</p> <p>Example:</p> <pre><code>let data = await Bot.sendMessage(\"Pinned message\")\n\ndata.pin()\n</code></pre> <p>Note</p> <p>Not all Bot methods support chaining. Chaining works only when the method returns a Telegram message object.</p>"},{"location":"bot-instance/sending-msg/#debugging-with-botinspect","title":"Debugging with Bot.inspect()","text":"<p><code>Bot.inspect()</code> sends inspect data to the current chat.</p> <p>It is mainly used for debugging and checking values quickly.</p>"},{"location":"bot-instance/sending-msg/#inspect-any-data","title":"Inspect Any Data","text":"<pre><code>Bot.inspect({ user: \"Alice\", id: 123 })\n</code></pre>"},{"location":"bot-instance/sending-msg/#inspect-multiple-values","title":"Inspect Multiple Values","text":"<pre><code>Bot.inspect(\n  \"User data:\",\n  user,\n  { id: 123 },\n  someArray\n)\n</code></pre> <p>The inspected data is formatted and sent as a message in the chat.</p> <p>Tip</p> <p>Use <code>Bot.inspect()</code> only during development. Avoid using it in production bots for users.</p>"},{"location":"bot-instance/sending-msg/#available-bot-methods","title":"Available Bot Methods","text":"<p>Only the following Bot methods are available for sending output:</p> <ul> <li><code>Bot.sendMessage</code></li> <li><code>Bot.sendKeyboard</code></li> <li><code>Bot.sendDocument</code></li> <li><code>Bot.sendPhoto</code></li> <li><code>Bot.sendAudio</code></li> <li><code>Bot.sendVideo</code></li> <li><code>Bot.sendVoice</code></li> <li><code>Bot.inspect</code></li> </ul> <p>These methods are intentionally limited and focused on output and flow control.</p>"},{"location":"bot-instance/sending-msg/#not-available-in-bot","title":"Not Available in Bot","text":"<p>Methods that read or query Telegram data, such as:</p> <ul> <li><code>getChat</code></li> <li><code>getMe</code></li> <li><code>getUserProfilePhotos</code></li> <li>or similar Telegram API read methods</li> </ul> <p>are not available in the Bot instance.</p> <p>Info</p> <p>The Bot instance is designed for sending responses and controlling bot behavior, not for querying Telegram data.</p>"},{"location":"bot-instance/sending-msg/#important-notes","title":"Important Notes","text":"<ul> <li>All Bot send methods use the current chat</li> <li><code>await</code> is optional</li> <li>Only limited methods support chained actions</li> <li><code>Bot.inspect()</code> sends output to chat</li> <li>Method names are case-sensitive</li> <li>Errors can be handled using the <code>!</code> command</li> </ul>"},{"location":"getting-started-with-tbl/adding-aliesses/","title":"Using Aliases in Your Bot","text":"<p>Aliases allow a single command to be triggered using multiple names. They make bots more flexible and easier to use.</p>"},{"location":"getting-started-with-tbl/adding-aliesses/#what-is-an-alias","title":"What is an Alias?","text":"<p>An alias is an alternative trigger for a command.</p> <p>This means:</p> <ul> <li>One command</li> <li>Multiple triggers</li> <li>Same behavior every time</li> </ul>"},{"location":"getting-started-with-tbl/adding-aliesses/#why-aliases-are-useful","title":"Why Aliases Are Useful","text":"<p>Aliases help you:</p> <ul> <li>Support different typing styles</li> <li>Match keyboard button text</li> <li>Provide short and long command names</li> <li>Reduce user mistakes</li> </ul> <p>They improve usability without adding logic.</p>"},{"location":"getting-started-with-tbl/adding-aliesses/#where-aliases-are-used","title":"Where Aliases Are Used","text":"<p>Aliases are defined inside a command\u2019s configuration.</p> <p>When a message arrives, TBL checks:</p> <ul> <li>The command name</li> <li>Then its aliases</li> <li>Then other matching rules</li> </ul> <p>Aliases behave exactly like the main command.</p>"},{"location":"getting-started-with-tbl/adding-aliesses/#adding-aliases-to-a-command","title":"Adding Aliases to a Command","text":"<p>Open an existing command and add values in the Aliases field.</p> <p>Each alias is treated as a separate trigger for the same command.</p> <p>Note</p> <p>Aliases are case-sensitive. <code>Help</code>, <code>help</code>, and <code>HELP</code> are treated as different triggers.</p> <p>If you want to support multiple cases, you must add each variation as a separate alias.</p>"},{"location":"getting-started-with-tbl/adding-aliesses/#aliases-and-keyboards","title":"Aliases and Keyboards","text":"<p>Aliases work perfectly with keyboards.</p> <p>For example:</p> <ul> <li>A keyboard button labeled <code>Help</code></li> <li>An alias named <code>Help</code></li> </ul> <p>Both trigger the same command.</p> <p>Tip</p> <p>Always add an alias that exactly matches your keyboard button text.</p>"},{"location":"getting-started-with-tbl/adding-aliesses/#best-practices-for-aliases","title":"Best Practices for Aliases","text":"<p>Follow these guidelines:</p> <ul> <li>Keep aliases short and clear</li> <li>Match keyboard labels exactly</li> <li>Avoid overlapping aliases across commands</li> <li>Add only meaningful alternatives</li> </ul> <p>Tip</p> <p>Fewer, well-chosen aliases are better than many confusing ones.</p>"},{"location":"getting-started-with-tbl/adding-aliesses/#common-mistakes-to-avoid","title":"Common Mistakes to Avoid","text":"<p>Avoid:</p> <ul> <li>Using the same alias in multiple commands</li> <li>Adding unrelated words as aliases</li> <li>Forgetting case variations when needed</li> </ul> <p>Aliases should always point clearly to one command.</p>"},{"location":"getting-started-with-tbl/adding-aliesses/#test-your-aliases","title":"Test Your Aliases","text":"<p>After adding aliases:</p> <ul> <li>Open your bot in Telegram</li> <li>Try typing different alias forms</li> <li>Tap keyboard buttons</li> <li>Confirm they all trigger the same response</li> </ul> <p>If everything works, your aliases are set up correctly.</p>"},{"location":"getting-started-with-tbl/adding-aliesses/#what-you-learned","title":"What You Learned","text":"<p>With aliases, you now know how to:</p> <ul> <li>Trigger one command in multiple ways</li> <li>Connect keyboards and text input</li> <li>Improve usability without logic</li> </ul>"},{"location":"getting-started-with-tbl/adding-keyboard/","title":"Adding a Keyboard to Your Bot","text":"<p>Now let\u2019s improve our first bot by adding a keyboard.</p> <p>Keyboards allow users to tap buttons instead of typing commands. This makes bots easier to use and more user-friendly.</p>"},{"location":"getting-started-with-tbl/adding-keyboard/#what-we-are-building","title":"What We Are Building","text":"<p>We will update the <code>/start</code> command to:</p> <ul> <li>Send a welcome message</li> <li>Show buttons on the screen</li> <li>Let users choose what to do next</li> </ul>"},{"location":"getting-started-with-tbl/adding-keyboard/#what-is-a-keyboard","title":"What is a Keyboard?","text":"<p>A keyboard is a set of buttons shown below the message input field.</p> <p>When a user taps a button, the button text is sent back to the bot as a normal message.</p> <p>This means:</p> <ul> <li>No typing required</li> <li>Fewer mistakes</li> <li>Better user experience</li> </ul>"},{"location":"getting-started-with-tbl/adding-keyboard/#step-1-open-the-command","title":"Step 1 \u2014 Open the Command","text":"<ul> <li>Go to your bot panel on TeleBotHost</li> <li>Open the Commands section</li> <li>Find the existing <code>/start</code> command</li> <li>Click the pencil (edit) icon to update it</li> </ul>"},{"location":"getting-started-with-tbl/adding-keyboard/#step-2-add-the-keyboard","title":"Step 2 \u2014 Add the Keyboard","text":"<p>Update the command fields like this:</p> <p>Command: <code>/start</code></p> <p>Answer: <code>Hello \ud83d\udc4b   Choose one of the options below to continue.</code></p> <p>Keyboard : <code>Help, About</code></p> <p>This creates two buttons in a single row.</p>"},{"location":"getting-started-with-tbl/adding-keyboard/#keyboard-layout-basics","title":"Keyboard Layout Basics","text":"<p>Keyboards are simple to define using text.</p> <ul> <li>Buttons in the same row are separated by commas</li> <li>New rows are created using a new line</li> </ul> <p>Warning</p> <p>A keyboard always requires an Answer. Buttons cannot be sent without a message, so make sure the Answer field is filled whenever you use a keyboard.</p> <p>Examples:</p> <ul> <li><code>Yes,No</code> \u2192 one row with two buttons  </li> <li><code>Yes\\nNo</code> \u2192 two rows with one button each  </li> <li><code>Yes,No\\nBoth</code> \u2192 two rows, First row: Yes, No  , Second row: Both  </li> </ul> <p>Tip</p> <p>You can mix rows and button counts freely to design your menu.</p>"},{"location":"getting-started-with-tbl/adding-keyboard/#how-keyboard-buttons-work","title":"How Keyboard Buttons Work","text":"<p>When a user taps a keyboard button:</p> <ul> <li>Telegram sends the button text as a message</li> <li>TBL treats it like normal text input</li> <li>A matching command can respond to it</li> </ul> <p>For example, tapping <code>Help</code> sends the message <code>Help</code>.</p>"},{"location":"getting-started-with-tbl/adding-keyboard/#creating-the-help-command","title":"Creating the Help Command","text":"<p>Now let\u2019s make the <code>Help</code> button actually do something.</p> <p>Add a new command with these details:</p> <p>Command : <code>Help</code></p> <p>Answer :  <code>Here\u2019s what I can help you with:   - Use the buttons to navigate   - Tap About to learn more about me   - Send /start anytime to restart</code></p> <p>No logic is needed yet.</p>"},{"location":"getting-started-with-tbl/adding-keyboard/#creating-the-about-command","title":"Creating the About Command","text":"<p>Next, create the <code>About</code> command.</p> <p>Add another command with:</p> <p>Command : <code>About</code></p> <p>Answer : <code>I\u2019m a simple Telegram bot built using TBL on TeleBotHost.   I use commands and keyboards to guide users easily.</code></p> <p>This gives users basic information about your bot.</p>"},{"location":"getting-started-with-tbl/adding-keyboard/#why-keyboards-are-useful","title":"Why Keyboards Are Useful","text":"<p>Keyboards are great for:</p> <ul> <li>Menus</li> <li>Navigation</li> <li>Guided user flows</li> <li>Reducing confusion for new users</li> </ul> <p>Tip</p> <p>Use keyboards for common actions instead of forcing users to remember commands.</p>"},{"location":"getting-started-with-tbl/adding-keyboard/#test-the-keyboard-and-commands","title":"Test the Keyboard and Commands","text":"<ul> <li>Open your bot in Telegram</li> <li>Send <code>/start</code></li> <li>You should see the buttons</li> <li>Tap Help and About</li> <li>Each button should show its response</li> </ul> <p>If everything works, your bot menu is complete \ud83c\udf89</p>"},{"location":"getting-started-with-tbl/adding-keyboard/#what-you-learned","title":"What You Learned","text":"<p>With this update, you learned:</p> <ul> <li>How to add a keyboard to a command</li> <li>How keyboard buttons send text messages</li> <li>How to handle buttons using normal commands</li> <li>How to build a simple menu-based bot</li> </ul>"},{"location":"getting-started-with-tbl/adding-keyboard/#whats-next","title":"What\u2019s Next","text":"<p>Next, you can:</p> <ul> <li>Add a Back button</li> <li>Create multi-level menus</li> <li>Combine keyboards with reply-based input</li> <li>Add logic to commands</li> </ul> <p>Your bot is now interactive and user-friendly.</p>"},{"location":"getting-started-with-tbl/command-structure/","title":"Commands in TBL","text":"<p>Commands are the foundation of how bots work in TBL (Tele Bot Lang). Every action, response, or behavior in a TeleBotHost bot is driven by a command.</p> <p>TBL does not rely on event listeners or long-running background processes. Instead, it follows a command-driven execution model, where each incoming update triggers exactly one command.</p>"},{"location":"getting-started-with-tbl/command-structure/#what-is-a-command","title":"What is a Command?","text":"<p>A command is a rule that defines what the bot should do when a specific trigger is matched.</p> <p>For every incoming update:</p> <ul> <li>Telegram sends an update to the bot</li> <li>TBL inspects the update</li> <li>A matching command is selected</li> <li>That command is executed</li> <li>Execution ends cleanly</li> </ul> <p>Only one command runs per update.</p> <p>Info</p> <p>TBL never executes multiple commands automatically for a single update.</p>"},{"location":"getting-started-with-tbl/command-structure/#types-of-command-triggers","title":"Types of Command Triggers","text":""},{"location":"getting-started-with-tbl/command-structure/#slash-commands","title":"Slash Commands","text":"<p>Slash commands start with <code>/</code>, such as <code>/start</code>.</p> <p>They are commonly used for:</p> <ul> <li>Entry points</li> <li>User onboarding</li> <li>Explicit user actions</li> </ul>"},{"location":"getting-started-with-tbl/command-structure/#text-based-commands","title":"Text-Based Commands","text":"<p>Commands can also be triggered by plain text messages.</p> <p>They are useful for:</p> <ul> <li>Menu-driven bots</li> <li>Keyword-based replies</li> <li>Conversational flows</li> </ul> <p>Text-based commands behave exactly the same as slash commands.</p>"},{"location":"getting-started-with-tbl/command-structure/#button-and-interaction-triggers","title":"Button and Interaction Triggers","text":"<p>Commands may also be triggered by user interactions, such as:</p> <ul> <li>Reply keyboards</li> <li>Inline buttons</li> <li>Menu selections</li> </ul> <p>These triggers help guide users and reduce manual typing.</p>"},{"location":"getting-started-with-tbl/command-structure/#inline-query-commands","title":"Inline Query Commands","text":"<p>Inline query commands handle Telegram inline mode, when users type <code>@yourbot query</code> inside any chat.</p> <p>These commands are useful for:</p> <ul> <li>Search-style bots</li> <li>Inline tools</li> <li>Quick content insertion</li> </ul> <p>Inline queries are handled by a dedicated command.</p>"},{"location":"getting-started-with-tbl/command-structure/#command-matching-order","title":"Command Matching Order","text":"<p>TBL uses a strict and predictable matching order.</p> <p>When an update arrives, commands are checked in this order:</p> <ul> <li>Exact command name</li> <li>Aliases</li> <li>Dynamic update handlers</li> <li>Fallback command</li> </ul> <p>This ensures that specific logic always runs before generic logic.</p> <p>Tip</p> <p>A strict matching order makes command behavior predictable and easier to debug.</p>"},{"location":"getting-started-with-tbl/command-structure/#command-parts","title":"Command Parts","text":"<p>Each command can include multiple optional parts. These parts define how the command behaves.</p>"},{"location":"getting-started-with-tbl/command-structure/#command-name","title":"Command Name","text":"<p>The command name defines the trigger.</p> <p>It can be:</p> <ul> <li>A slash command</li> <li>A keyword</li> <li>A system identifier</li> </ul>"},{"location":"getting-started-with-tbl/command-structure/#answer","title":"Answer","text":"<p>An answer is a static message sent immediately when the command is triggered.</p> <p>It is useful for:</p> <ul> <li>Quick responses</li> <li>Simple instructions</li> <li>Instant feedback</li> </ul> <p>The answer is always sent before any command logic runs.</p>"},{"location":"getting-started-with-tbl/command-structure/#logic-bot-main-codes","title":"Logic (Bot Main Codes)","text":"<p>The logic defines what the bot actually does after the command is triggered.</p> <p>Typical responsibilities include:</p> <ul> <li>Sending messages</li> <li>Processing user input</li> <li>Calling external APIs</li> <li>Saving or reading data</li> <li>Triggering other commands</li> </ul>"},{"location":"getting-started-with-tbl/command-structure/#aliases","title":"Aliases","text":"<p>Aliases allow a command to be triggered using multiple names.</p> <p>They are useful for:</p> <ul> <li>Handling typos</li> <li>Supporting multiple languages</li> <li>Creating shortcuts</li> </ul> <p>All aliases behave exactly the same as the main command.</p>"},{"location":"getting-started-with-tbl/command-structure/#keyboard","title":"Keyboard","text":"<p>Commands can optionally display keyboards.</p> <p>Keyboards help:</p> <ul> <li>Reduce typing</li> <li>Guide user actions</li> <li>Improve user experience</li> </ul> <p>They are shown only when explicitly defined.</p>"},{"location":"getting-started-with-tbl/command-structure/#need-reply","title":"Need Reply","text":"<p>Some commands expect a follow-up message from the user.</p> <p>When enabled:</p> <ul> <li>The bot waits for the next user message</li> <li>That message becomes the input</li> <li>The command flow continues</li> </ul> <p>Warning</p> <p>Overusing reply-based commands can confuse users and make flows harder to manage.</p>"},{"location":"getting-started-with-tbl/command-structure/#built-in-special-commands","title":"Built-in Special Commands","text":""},{"location":"getting-started-with-tbl/command-structure/#start-entry-command","title":"/start \u2014 Entry Command","text":"<p>The <code>/start</code> command is the primary entry point for users.</p> <p>It is typically used for:</p> <ul> <li>Welcoming users</li> <li>Explaining bot features</li> <li>Resetting user flow</li> </ul> <p>While not mandatory, it is strongly recommended.</p>"},{"location":"getting-started-with-tbl/command-structure/#initialization-command","title":"@ \u2014 Initialization Command","text":"<p>The <code>@</code> command runs before any other command.</p> <p>It is used for:</p> <ul> <li>Preparing global data</li> <li>Defining helper logic</li> <li>Setting shared configuration</li> </ul> <p>Info</p> <p>The <code>@</code> command runs on every update and executes before command matching.</p> <p>Tip</p> <p>This command has advanced use cases that will be covered later.</p>"},{"location":"getting-started-with-tbl/command-structure/#error-handler-command","title":"! \u2014 Error Handler Command","text":"<p>The <code>!</code> command runs when a runtime error occurs during command execution.</p> <p>It is used for:</p> <ul> <li>Handling failures gracefully</li> <li>Sending error messages</li> <li>Preventing silent crashes</li> </ul> <p>Alert</p> <p>Always define a <code>!</code> command to handle unexpected errors safely.</p>"},{"location":"getting-started-with-tbl/command-structure/#post-processing-command","title":"@@ \u2014 Post-Processing Command","text":"<p>The <code>@@</code> command runs after every command execution, whether it succeeds or fails.</p> <p>It is commonly used for:</p> <ul> <li>Cleanup tasks</li> <li>Logging</li> <li>Analytics</li> <li>Post-execution actions</li> </ul>"},{"location":"getting-started-with-tbl/command-structure/#fallback-wildcard-command","title":"* \u2014 Fallback (Wildcard) Command","text":"<p>The <code>*</code> command runs when no other command matches.</p> <p>It acts as:</p> <ul> <li>A default handler</li> <li>A safety net</li> <li>A universal fallback</li> </ul> <p>Warning</p> <p>Not defining a fallback command may cause some updates to be ignored.</p>"},{"location":"getting-started-with-tbl/command-structure/#update-specific-commands","title":"Update-Specific Commands","text":""},{"location":"getting-started-with-tbl/command-structure/#inline_query-inline-mode-handler","title":"/inline_query \u2014 Inline Mode Handler","text":"<p>The <code>/inline_query</code> command handles inline queries triggered by users typing <code>@yourbot query</code> inside chats.</p> <p>It is responsible for:</p> <ul> <li>Reading inline query input</li> <li>Returning inline results</li> <li>Powering search-style interactions</li> </ul> <p>If <code>/inline_query</code> is not defined, inline updates fall back to the <code>*</code> command.</p>"},{"location":"getting-started-with-tbl/command-structure/#channel_update-channel-post-handler","title":"/channel_update \u2014 Channel Post Handler","text":"<p>The <code>/channel_update</code> command handles channel-related updates automatically.</p> <p>It is used for:</p> <ul> <li>Channel posts</li> <li>Channel edits</li> <li>Channel-related events</li> </ul> <p>If this command is not defined, channel updates fall back to the <code>*</code> command.</p>"},{"location":"getting-started-with-tbl/command-structure/#dynamic-commands","title":"Dynamic Commands","text":"<p>TBL supports dynamic commands that handle specific Telegram update types automatically.</p> <p>Dynamic commands follow a fixed naming pattern:</p> <ul> <li><code>/handle_{update_type}</code></li> </ul> <p>Examples include:</p> <ul> <li><code>/handle_channel_post</code></li> <li><code>/handle_chat_member</code></li> <li><code>/handle_poll_answer</code></li> <li><code>/handle_message_reaction</code></li> </ul> <p>These commands are triggered automatically when the corresponding Telegram update is received.</p> <p>If a dynamic command is not defined:</p> <ul> <li>Channel-related updates fall back to <code>/channel_update</code></li> <li>All other updates fall back to <code>*</code></li> </ul> <p>Info</p> <p>Dynamic commands remove the need for manual update parsing or event listeners.</p>"},{"location":"getting-started-with-tbl/command-structure/#final-command-execution-flow","title":"Final Command Execution Flow","text":"<p>Every update in TBL follows the same execution order:</p> <ul> <li>The update is received</li> <li>The <code>@</code> initialization command runs</li> <li>A matching command runs</li> <li>The <code>!</code> command runs only if an error occurs</li> <li>The <code>@@</code> command runs after execution</li> <li>Execution ends</li> </ul> <p>Flow summary:</p> <p>Update \u2192 @ \u2192 matched command \u2192 ! (on error) \u2192 @@ \u2192 end</p>"},{"location":"getting-started-with-tbl/command-structure/#good-practices","title":"Good Practices","text":"<ul> <li>Use clear and meaningful command names</li> <li>Keep one responsibility per command</li> <li>Always define <code>!</code> and <code>*</code></li> <li>Use aliases thoughtfully</li> <li>Prefer dynamic commands for system updates</li> <li>Keep reply-based flows short and clear</li> </ul>"},{"location":"getting-started-with-tbl/command-structure/#what-to-avoid","title":"What to Avoid","text":"<p>Avoid:</p> <ul> <li>Overloading a single command with too much logic</li> <li>Creating deep or confusing reply chains</li> <li>Relying on fallback commands for core features</li> <li>Ignoring error handling</li> <li>Creating ambiguous or overlapping triggers</li> </ul>"},{"location":"getting-started-with-tbl/command-structure/#why-this-model-works","title":"Why This Model Works","text":"<p>TBL\u2019s command system is intentionally focused and restricted.</p> <p>This design:</p> <ul> <li>Improves security</li> <li>Prevents unexpected behavior</li> <li>Makes bots easier to understand</li> <li>Scales reliably under high traffic</li> </ul> <p>Instead of managing events and listeners, developers define clear reactions to specific triggers, resulting in predictable and maintainable bots.</p>"},{"location":"getting-started-with-tbl/first-hello-bot/","title":"Your First TBL Bot \u2014 Hello Bot","text":"<p>Let\u2019s build your very first Telegram bot using TBL.</p> <p>This bot will do one simple thing: when a user sends <code>/start</code>, the bot replies with a friendly Hello message.</p> <p>No code logic yet \u2014 just a command and an answer.</p>"},{"location":"getting-started-with-tbl/first-hello-bot/#what-we-are-building","title":"What We Are Building","text":"<p>We will create:</p> <ul> <li>One command</li> <li>One automatic reply</li> <li>A working Telegram bot response</li> </ul> <p>This is the easiest way to understand how TBL works.</p>"},{"location":"getting-started-with-tbl/first-hello-bot/#step-1-open-your-bot-panel","title":"Step 1 \u2014 Open Your Bot Panel","text":"<ul> <li>Go to your bot dashboard on TeleBotHost</li> <li>Open the Commands section for the bot you added earlier</li> <li>Click Add Command</li> </ul> <p>This is where all bot behavior starts.</p>"},{"location":"getting-started-with-tbl/first-hello-bot/#step-2-create-the-command","title":"Step 2 \u2014 Create the Command","text":"<p>Fill the command fields like this:</p> <p>In command field: <code>/start</code></p> <p>Answer: <code>Hello \ud83d\udc4b   Welcome to my first TBL bot!</code></p> <p>That\u2019s it.</p> <p>No logic is required for this step.</p>"},{"location":"getting-started-with-tbl/first-hello-bot/#how-this-works","title":"How This Works","text":"<p>When a user sends <code>/start</code>:</p> <ul> <li>Telegram sends the update</li> <li>TBL matches the <code>/start</code> command</li> <li>The answer is sent instantly</li> <li>Execution ends</li> </ul> <p>This happens automatically.</p> <p>Info</p> <p>The answer is sent before any code logic. If no logic exists, the answer alone is enough.</p>"},{"location":"getting-started-with-tbl/first-hello-bot/#answer-supports-markdown","title":"Answer Supports Markdown","text":"<p>The Answer field supports Telegram Markdown, which means you can format text to make messages more readable and attractive.</p> <p>You can use Markdown to:</p> <ul> <li>Make text bold or italic</li> <li>Show <code>monospace</code> text</li> <li>Create line breaks</li> <li>Add simple emphasis</li> </ul> <p>This is useful for welcome messages, help text, and menus.</p> <p>Tip</p> <p>Keep formatting simple to avoid Markdown parsing issues.</p>"},{"location":"getting-started-with-tbl/first-hello-bot/#learn-telegram-markdown","title":"Learn Telegram Markdown","text":"<p>To understand what formatting is supported, see the official Telegram documentation:</p> <p>core.telegram.org/bots/api#formatting-options</p>"},{"location":"getting-started-with-tbl/first-hello-bot/#test-your-bot","title":"Test Your Bot","text":"<ul> <li>Open your bot in Telegram</li> <li>Send <code>/start</code></li> <li>You should see your Hello message instantly</li> </ul> <p>If you see the message, your bot is working \ud83c\udf89</p>"},{"location":"getting-started-with-tbl/first-hello-bot/#what-you-learned","title":"What You Learned","text":"<p>With this simple bot, you learned that:</p> <ul> <li>Bots in TBL are command-based</li> <li>A command can work without any code</li> <li>The Answer field supports Telegram Markdown</li> <li>Formatting can improve message clarity</li> <li><code>/start</code> is the entry point for most bots</li> </ul>"},{"location":"getting-started-with-tbl/handle-need-reply/","title":"Handling User Input with Need Reply","text":"<p>Now that your bot can respond to commands and keyboards, the next step is handling user input.</p> <p>This is done using Need Reply, which allows a command to wait for the user\u2019s next message before continuing.</p>"},{"location":"getting-started-with-tbl/handle-need-reply/#what-is-need-reply","title":"What is Need Reply?","text":"<p><code>Need Reply</code> tells the bot to pause and wait for the user\u2019s next message.</p> <p>Instead of finishing immediately, the command stays active until the user replies.</p> <p>This is useful when you need input like:</p> <ul> <li>A name</li> <li>A value</li> <li>A choice</li> <li>Any simple user response</li> </ul>"},{"location":"getting-started-with-tbl/handle-need-reply/#simple-input-example","title":"Simple Input Example","text":"<p>We will create a command that asks for the user\u2019s name and replies using that input.</p> <p>Command : <code>/input</code></p> <p>Answer : <code>Tell me your name \ud83d\ude42</code></p> <p>Need Reply : true</p> <p>Logic (TBL Code) <pre><code>Bot.sendMessge(\"Your name is \" + message)\n</code></pre></p>"},{"location":"getting-started-with-tbl/handle-need-reply/#how-this-works","title":"How This Works","text":"<p>Step by step:</p> <ul> <li>User sends <code>/input</code></li> <li>The bot replies: \u201cTell me your name\u201d</li> <li>Because <code>Need Reply</code> is enabled, the bot waits</li> <li>User sends their next message</li> <li>That message is captured</li> <li>The logic runs and replies using the input</li> </ul> <p>The important rule is this:</p> <p>The next message is treated as input, not as a new command.</p>"},{"location":"getting-started-with-tbl/handle-need-reply/#what-message-means-here","title":"What <code>message</code> Means Here","text":"<p>For this beginner example:</p> <ul> <li><code>message</code> refers only to the text sent by the user</li> <li>It does not handle media or other message types</li> <li>This keeps the bot simple and easy to understand</li> </ul> <p>Note</p> <p>Advanced bots can handle all update types, but for learning purposes, <code>message</code> is treated as plain text here.</p>"},{"location":"getting-started-with-tbl/handle-need-reply/#how-to-cancel-need-reply","title":"How to Cancel Need Reply","text":"<p>Sometimes a user may change their mind or want to stop the input process.</p> <p>To cancel <code>Need Reply</code>, the user can simply send any valid existing command.</p> <p>For example:</p> <ul> <li><code>/start</code></li> <li><code>Help</code></li> <li><code>About</code></li> </ul> <p>When a valid command is received:</p> <ul> <li>The waiting state is cleared</li> <li><code>Need Reply</code> is cancelled</li> <li>Normal command matching resumes</li> </ul> <p>Info</p> <p>Sending a valid command automatically cancels the active Need Reply state.</p> <p>This makes it easy for users to escape input mode without getting stuck.</p>"},{"location":"getting-started-with-tbl/handle-need-reply/#why-this-is-important","title":"Why This Is Important","text":"<p>Without a cancel option:</p> <ul> <li>Users can feel trapped</li> <li>Other commands stop working temporarily</li> <li>The bot feels broken</li> </ul> <p>Allowing users to send a valid command keeps the bot safe and user-friendly.</p>"},{"location":"getting-started-with-tbl/handle-need-reply/#good-practices-for-need-reply","title":"Good Practices for Need Reply","text":"<p>Follow these rules:</p> <ul> <li>Always explain what input you expect</li> <li>Keep reply flows short</li> <li>Allow users to cancel using <code>/start</code> or menu buttons</li> <li>Respond immediately after receiving input</li> <li>Avoid chaining many reply-based steps</li> </ul> <p>Warning</p> <p>Leaving users in a reply-waiting state without clear instructions can block normal bot usage.</p>"},{"location":"getting-started-with-tbl/handle-need-reply/#test-the-cancel-behavior","title":"Test the Cancel Behavior","text":"<p>To test cancellation:</p> <ul> <li>Send <code>/input</code></li> <li>Instead of replying with text, send <code>/start</code></li> <li>The bot should cancel the input flow and restart normally</li> </ul> <p>If this works, your Need Reply handling is correct.</p>"},{"location":"getting-started-with-tbl/handle-need-reply/#what-you-learned","title":"What You Learned","text":"<p>With <code>Need Reply</code>, you now understand how to:</p> <ul> <li>Pause a command and wait for input</li> <li>Read simple text input using <code>message</code></li> <li>Cancel input mode safely</li> <li>Build basic interactive flows</li> </ul> <p>This is the foundation for setup wizards, forms, and guided user interactions.</p>"},{"location":"getting-started-with-tbl/using-wildcard/","title":"Using the Wildcard (*) Command","text":"<p>Now let\u2019s build a bot that always replies, no matter what the user sends.</p> <p>This is done using the wildcard command (<code>*</code>).</p>"},{"location":"getting-started-with-tbl/using-wildcard/#what-is-the-command","title":"What is the * Command?","text":"<p>The <code>*</code> command is a catch-all command.</p> <p>It runs when:</p> <ul> <li>No other command matches</li> <li>The input is unknown</li> <li>The user sends random text or commands</li> </ul> <p>In simple words:</p> <p>If nothing else matches, <code>*</code> runs.</p>"},{"location":"getting-started-with-tbl/using-wildcard/#what-we-are-building","title":"What We Are Building","text":"<p>We will create a bot that:</p> <ul> <li>Replies to any message</li> <li>Does not require specific commands</li> <li>Always sends the same answer</li> </ul> <p>This is useful for simple auto-reply bots or fallback responses.</p>"},{"location":"getting-started-with-tbl/using-wildcard/#step-1-create-the-command","title":"Step 1 \u2014 Create the Command","text":"<p>Open your bot\u2019s Commands section and add a new command.</p> <p>Command : <code>*</code> Answer : <code>Hello \ud83d\udc4b I reply to everything you send!</code></p> <p>That\u2019s it. No logic is required.</p>"},{"location":"getting-started-with-tbl/using-wildcard/#how-the-command-works","title":"How the * Command Works","text":"<p>When a user sends any message:</p> <ul> <li>TBL checks all defined commands</li> <li>If no command matches</li> <li>The <code>*</code> command is selected</li> <li>The answer is sent</li> </ul> <p>This happens for:</p> <ul> <li>Normal text</li> <li>Unknown commands</li> <li>Random input</li> <li>All telegram update types</li> </ul> <p>Tip</p> <p><code>*</code> Command able to capture all types of telegram update </p>"},{"location":"getting-started-with-tbl/using-wildcard/#example-behavior","title":"Example Behavior","text":"<p>With only the <code>*</code> command defined:</p> <ul> <li>User sends <code>Hi</code> \u2192 bot replies</li> <li>User sends <code>/test</code> \u2192 bot replies</li> <li>User sends anything \u2192 bot replies</li> </ul> <p>The same answer is sent every time.</p> <p>Info</p> <p>The <code>*</code> command only runs when no other command matches.</p>"},{"location":"getting-started-with-tbl/using-wildcard/#with-other-commands","title":"* With Other Commands","text":"<p>If your bot also has a <code>/start</code> command:</p> <ul> <li><code>/start</code> \u2192 <code>/start</code> command runs</li> <li>Anything else \u2192 <code>*</code> command runs</li> </ul> <p>This makes <code>*</code> perfect as a fallback.</p>"},{"location":"getting-started-with-tbl/using-wildcard/#good-use-cases","title":"Good Use Cases","text":"<p>Use the <code>*</code> command for:</p> <ul> <li>Default replies</li> <li>Unknown input handling</li> <li>Help prompts</li> <li>Maintenance messages</li> </ul> <p>Warning</p> <p>Do not place important bot logic inside <code>*</code>. Use it as a fallback, not a primary command.</p>"},{"location":"getting-started-with-tbl/using-wildcard/#test-the-bot","title":"Test the Bot","text":"<ul> <li>Open your bot in Telegram</li> <li>Send any message</li> <li>The bot should always reply</li> </ul> <p>If it does, your wildcard command is working \ud83c\udf89</p>"},{"location":"getting-started-with-tbl/using-wildcard/#what-you-learned","title":"What You Learned","text":"<p>You now understand how:</p> <ul> <li>The <code>*</code> command works</li> <li>To build an always-replying bot</li> <li>To handle unknown input safely</li> <li>To use <code>*</code> as a fallback command</li> </ul>"},{"location":"global-instance/","title":"Global Instance","text":""},{"location":"global-instance/#global-instance","title":"Global Instance","text":"<p>The Global instance is used to store and manage data at the account level.</p> <p>All data stored using the Global instance is shared across all bots under the same owner account.</p> <p>Any bot belonging to the account can read or modify this data.</p> <p>This is useful for:</p> <ul> <li>Shared configuration across bots</li> <li>Account-wide settings</li> <li>Common flags or counters</li> <li>Data that should not belong to a single bot or user</li> </ul> <p>Global data is scoped to the owner account, not to an individual bot or user.</p>"},{"location":"global-instance/basics/","title":"Global Basics","text":""},{"location":"global-instance/basics/#basic-operations","title":"Basic Operations","text":"<p>Use the Global instance to store and read data at the account level.</p> <p>All operations here use the string-based method format and apply to the entire owner account.</p> <p>Data stored here is shared across all bots under the same account.</p>"},{"location":"global-instance/basics/#saving-global-data","title":"Saving Global Data","text":"<p>Use <code>Global.set()</code> to store values.</p> <pre><code>Global.set(\"version\", \"1.0.0\")\nGlobal.set(\"max_limit\", 100, \"number\")\n</code></pre> <ul> <li>First argument: key  </li> <li>Second argument: value  </li> <li>Third argument (optional): data type  </li> </ul> <p>If the type is not provided, it is auto-detected.</p>"},{"location":"global-instance/basics/#reading-global-data","title":"Reading Global Data","text":"<p>Use <code>Global.get()</code> to read stored values.</p> <pre><code>let version = Global.get(\"version\")\nlet limit = Global.get(\"max_limit\")\n\nBot.sendMessage(\"Version: \" + version + \", Limit: \" + limit)\n</code></pre> <p>Reading data is synchronous and returns the value directly.</p> <p>If a key does not exist, it returns <code>null</code>.</p>"},{"location":"global-instance/basics/#deleting-a-single-value","title":"Deleting a Single Value","text":"<p>Remove a specific global value.</p> <pre><code>Global.del(\"max_limit\")\n\nlet limit = Global.get(\"max_limit\")   // null\nBot.sendMessage(\"After delete, limit = \" + limit)\n</code></pre> <p>Deleting a non-existing key does nothing and does not throw an error.</p>"},{"location":"global-instance/basics/#bulk-operations","title":"Bulk Operations","text":"<p>Bulk operations let you work with all global data at once.</p> <p>These are useful for inspecting or resetting account-level data.</p>"},{"location":"global-instance/basics/#get-all-global-data","title":"Get All Global Data","text":"<pre><code>let all = Global.getAll()\nBot.inspect(all)\n</code></pre> <p>Example output:</p> <pre><code>{\n  \"version\": \"1.0.0\",\n  \"maintenance\": false\n}\n</code></pre> <p>This returns an object containing all stored global keys and values.</p>"},{"location":"global-instance/basics/#delete-all-global-data","title":"Delete All Global Data","text":"<pre><code>Global.delAll()\n\nlet all2 = Global.getAll()\nBot.inspect(all2)\n</code></pre> <p>This clears all global data for the account.</p>"},{"location":"global-instance/basics/#notes","title":"Notes","text":"<ul> <li>Data is stored at the account level</li> <li>Shared across all bots under the same owner</li> <li>Only string-based methods are used here</li> <li>Reading (<code>get</code>, <code>getAll</code>) is synchronous</li> <li>Saving and deleting do not require <code>await</code></li> <li>Missing keys always return <code>null</code></li> </ul>"},{"location":"global-instance/storage-monitor/","title":"Storage Monitoring","text":""},{"location":"global-instance/storage-monitor/#storage-monitoring","title":"Storage Monitoring","text":"<p>The Global instance can be used to monitor storage usage at the account level.</p> <p>It gives visibility into total storage consumed across:</p> <ul> <li>Bot data</li> <li>User data</li> <li>Global data</li> </ul> <p>This helps you track usage, prevent limits from being reached, and plan cleanups.</p>"},{"location":"global-instance/storage-monitor/#get-detailed-storage-information","title":"Get Detailed Storage Information","text":"<p>Retrieve detailed storage stats for your account.</p> <pre><code>let storageInfo = Global.getStorageInfo()\nBot.inspect(storageInfo)\n</code></pre> <p>Example output:</p> <pre><code>{\n  \"size\": 1572864,\n  \"prop_count\": 42,\n  \"last_calc\": \"2024-01-15T10:30:00.000Z\"\n}\n</code></pre> <ul> <li><code>size</code> \u2192 total storage used (bytes)</li> <li><code>prop_count</code> \u2192 total stored entries</li> <li><code>last_calc</code> \u2192 last calculation timestamp</li> </ul>"},{"location":"global-instance/storage-monitor/#get-storage-usage-percentage","title":"Get Storage Usage Percentage","text":"<p>Check how much storage is used as a percentage (0\u2013100).</p> <pre><code>let usagePercent = Global.getStorageUsage()\nBot.sendMessage(\"Storage usage: \" + usagePercent + \"%\")\n</code></pre> <p>This is useful for dashboards or alerts.</p>"},{"location":"global-instance/storage-monitor/#check-if-storage-is-near-limit","title":"Check If Storage Is Near Limit","text":"<p>You can quickly detect when storage is close to full.</p> <pre><code>if (Global.isStorageNearLimit()) {\n  Bot.sendMessage(\"\u26a0\ufe0f Storage almost full! Please clean up some data.\")\n}\n</code></pre> <p>By default, this checks against a 90% threshold.</p>"},{"location":"global-instance/storage-monitor/#get-available-storage","title":"Get Available Storage","text":"<p>Find out how much storage is still available.</p> <pre><code>let availableMB = Global.getAvailableStorage()\nBot.sendMessage(\"Available storage: \" + availableMB + \" MB\")\n</code></pre> <p>This value is returned in megabytes (MB).</p>"},{"location":"global-instance/storage-monitor/#notes","title":"Notes","text":"<ul> <li>All storage metrics are account-wide</li> <li>Includes Bot, User, and Global data</li> <li>Useful for monitoring, alerts, and maintenance</li> <li>Helps avoid unexpected storage limits</li> </ul> <p>The Global instance provides a simple way to observe and manage your account\u2019s storage usage.</p>"},{"location":"globals/","title":"Global Variables","text":"<p>TBL provides built-in global variables that are available in every command.</p> <p>They give access to update data, user info, and chat context without any setup.</p> <p>Each global variable is documented separately.See Next...</p>"},{"location":"globals/bot/","title":"The <code>bot</code> Variable","text":"<p>In TBL, <code>bot</code> contains information about the current bot running the command.</p> <p>It provides details about the bot\u2019s identity, owner, and platform status.</p>"},{"location":"globals/bot/#what-bot-contains","title":"What <code>bot</code> Contains","text":"<p>The <code>bot</code> variable is a JSON object with platform-level information about the bot.</p> <p>It may include:</p> <ul> <li>Internal bot ID on TeleBotHost</li> <li>Telegram bot ID</li> <li>Bot name</li> <li>Owner information</li> <li>Bot status</li> <li>Creation and update timestamps</li> </ul>"},{"location":"globals/bot/#demo-bot-object","title":"Demo Bot Object","text":"<p>Example structure of the <code>bot</code> object:</p> <pre><code>{\n  \"id\": 42,\n  \"token\": \"123456:ABC...\",\n  \"name\": \"DemoBot\",\n  \"bot_id\": 987654321,\n  \"owner\": \"somemail@telebothost.com\",\n  \"status\": \"working\",\n  \"created_at\": \"2025-01-01\",\n  \"updated_at\": \"2025-01-10\"\n}\n</code></pre>"},{"location":"globals/bot/#important-notes","title":"Important Notes","text":"<ul> <li><code>bot</code> is read-only</li> <li>It exists only during command execution</li> <li>It represents platform-level information, not Telegram updates</li> </ul> <p>The <code>bot</code> variable is useful for admin tools, logging, and bot management logic.</p>"},{"location":"globals/chat/","title":"The <code>chat</code> Variable","text":"<p>In TBL, <code>chat</code> contains details about the current chat where the interaction happened.</p> <p>This can be a private chat, group, or channel.</p>"},{"location":"globals/chat/#what-chat-contains","title":"What <code>chat</code> Contains","text":"<p>The <code>chat</code> variable is a JSON object that describes the chat context.</p> <p>It may include information such as:</p> <ul> <li>Chat ID</li> <li>Chat type (private, group, channel)</li> <li>Chat username or title</li> <li>Block status</li> <li>Whether the chat was just created</li> </ul>"},{"location":"globals/chat/#demo-chat-object","title":"Demo Chat Object","text":"<p>Example structure of the <code>chat</code> object:</p> <pre><code>{\n  \"id\": 5723455420,\n  \"first_name\": \"Soumyadeep \u221e\",\n  \"username\": \"soumyadeepdas765\",\n  \"type\": \"private\",\n  \"chatid\": 5723455420,\n  \"chatId\": 5723455420,\n  \"blocked\": false,\n  \"block_reason\": null,\n  \"blocked_at\": null,\n  \"just_created\": true\n}\n</code></pre>"},{"location":"globals/chat/#when-chat-is-available","title":"When <code>chat</code> Is Available","text":"<ul> <li>For most message-based updates, <code>chat</code> is available</li> <li>For some system or webhook updates, it may be <code>null</code></li> </ul>"},{"location":"globals/chat/#important-notes","title":"Important Notes","text":"<ul> <li><code>chat</code> is either an object or null</li> <li>It is read-only</li> <li>It exists only during the current command execution</li> </ul> <p>The <code>chat</code> variable helps your bot understand where the interaction is happening.</p>"},{"location":"globals/content/","title":"The <code>content</code> Variable","text":"<p>In TBL, <code>content</code> contains the response body returned from an HTTP request.</p> <p>It represents the main data received from the server.</p>"},{"location":"globals/content/#how-content-works","title":"How <code>content</code> Works","text":"<p>When you make an HTTP request:</p> <ul> <li>The response body is converted to text</li> <li>That text is stored in <code>content</code></li> <li>The value is usually stringified data</li> </ul> <p>For example, if an API returns JSON, <code>content</code> will contain it as a string.</p>"},{"location":"globals/content/#demo-example","title":"Demo Example","text":"<p>Example value of <code>content</code>:</p> <pre><code>\"{\\\"status\\\":true,\\\"message\\\":\\\"Hello from API\\\"}\"\n</code></pre> <p>You can then parse or process this value in your logic if needed.</p>"},{"location":"globals/content/#important-notes","title":"Important Notes","text":"<ul> <li><code>content</code> contains text data</li> <li>It exists only during command execution</li> <li>Its value depends on the HTTP response</li> </ul> <p>The <code>content</code> variable is mainly used when working with external APIs.</p>"},{"location":"globals/error/","title":"The <code>error</code> Variable","text":"<p>In TBL, <code>error</code> contains information about an error that was caught by the <code>!</code> command.</p> <p>It is only available when an error occurs during command execution.</p>"},{"location":"globals/error/#how-error-works","title":"How <code>error</code> Works","text":"<ul> <li>When a runtime error happens, the <code>!</code> command is triggered</li> <li>Inside the <code>!</code> command, <code>error</code> becomes available</li> <li><code>error</code> describes what went wrong</li> </ul> <p>This allows you to handle failures safely.</p>"},{"location":"globals/error/#what-error-contains","title":"What <code>error</code> Contains","text":"<p>The <code>error</code> variable is an object that may include:</p> <ul> <li>Error message</li> <li>Error type</li> <li>Stack information</li> <li>Execution details</li> </ul>"},{"location":"globals/error/#important-notes","title":"Important Notes","text":"<ul> <li><code>error</code> is available only inside the <code>!</code> command and HTTP call fallback command on error </li> <li>It is read-only</li> <li>It exists only during error handling</li> </ul> <p>The <code>error</code> variable helps you debug issues and show user-friendly error messages.</p>"},{"location":"globals/http_response/","title":"The <code>http_response</code> Variable","text":"<p>In TBL, <code>http_response</code> contains full information about an HTTP request result.</p> <p>It is only available inside HTTP callback commands (commands triggered after an HTTP request completes).</p>"},{"location":"globals/http_response/#when-http_response-is-available","title":"When <code>http_response</code> Is Available","text":"<ul> <li>Only for HTTP callback commands</li> <li>Not available in normal message-based commands</li> <li>Automatically provided after an HTTP request finishes</li> </ul>"},{"location":"globals/http_response/#what-http_response-contains","title":"What <code>http_response</code> Contains","text":"<p>The <code>http_response</code> variable is an object that includes:</p> <ul> <li>Request options</li> <li>HTTP response data</li> <li>Metadata like timestamps</li> </ul>"},{"location":"globals/http_response/#demo-http_response-object","title":"Demo <code>http_response</code> Object","text":"<p>Example structure of <code>http_response</code>:</p> <pre><code>{\n  \"options\": {\n    \"url\": \"https://webapi.telebothost.com/\",\n    \"success\": \"/link\"\n  },\n  \"response\": {\n    \"ok\": true,\n    \"status\": 200,\n    \"statusText\": \"\",\n    \"content\": \"{\\\"status\\\":\\\"ok\\\",\\\"message\\\":\\\"API Service Running\\\"}\",\n    \"data\": {\n      \"status\": \"ok\",\n      \"message\": \"API Service Running\"\n    },\n    \"isJson\": true,\n    \"headers\": {\n      \"server\": \"nginx/1.24.0 (Ubuntu)\",\n      \"content-type\": \"application/json; charset=utf-8\"\n    },\n    \"cookies\": [],\n    \"url\": \"https://webapi.telebothost.com/\",\n    \"redirected\": false,\n    \"redirectCount\": 0\n  },\n  \"timestamp\": 1766335656394\n}\n</code></pre>"},{"location":"globals/http_response/#the-response-variable","title":"The <code>response</code> Variable","text":"<p>For convenience, TBL also exposes:</p> <ul> <li><code>response</code> \u2192 same as <code>http_response.response</code></li> </ul> <p>This lets you access response details directly without referencing the full object.</p>"},{"location":"globals/http_response/#commonly-used-response-fields","title":"Commonly Used Response Fields","text":"<p>Inside <code>response</code>, you will often use:</p> <ul> <li><code>response.ok</code> \u2192 request success status</li> <li><code>response.status</code> \u2192 HTTP status code</li> <li><code>response.content</code> \u2192 raw response body (string)</li> <li><code>response.data</code> \u2192 parsed JSON data (if available)</li> <li><code>response.isJson</code> \u2192 whether the response was JSON</li> </ul>"},{"location":"globals/http_response/#headers-and-cookies","title":"Headers and Cookies","text":"<p>Headers and cookies are also exposed directly.</p> <ul> <li><code>headers</code> \u2192 same as <code>response.headers</code></li> <li><code>cookies</code> \u2192 same as <code>response.cookies</code></li> </ul> <p>This makes it easier to work with HTTP metadata.</p>"},{"location":"globals/http_response/#important-notes","title":"Important Notes","text":"<ul> <li><code>http_response</code> is read-only</li> <li>It exists only during the callback command execution</li> <li>Structure depends on the HTTP request and response</li> <li><code>content</code> is always a string, even for JSON responses</li> </ul> <p>The <code>http_response</code> variable is mainly used for API integrations, external services, and data fetching workflows.</p>"},{"location":"globals/message/","title":"The <code>message</code> Variable","text":"<p>In TBL, <code>message</code> contains only the text of a message.</p> <p>Example value: \"Hello bot\"</p>"},{"location":"globals/message/#how-message-works","title":"How <code>message</code> Works","text":"<ul> <li>If the update type is a text message, <code>message</code> contains that text</li> <li>If the update is not a text message, <code>message</code> is <code>null</code></li> </ul> <p>This means:</p> <ul> <li>Text message \u2192 <code>message</code> has value</li> <li>Photo, sticker, button, webhook, etc. \u2192 <code>message</code> is null</li> </ul>"},{"location":"globals/message/#important-notes","title":"Important Notes","text":"<ul> <li><code>message</code> contains text only</li> <li>It does not include media or metadata</li> <li>It exists only during command execution</li> </ul> <p>For simple bots, <code>message</code> is the easiest way to read user input.</p>"},{"location":"globals/msg/","title":"The <code>msg</code> Variable","text":"<p>In TBL, <code>msg</code> is a simplified version of <code>update</code> that is available only for message updates.</p> <p>It is designed to make working with normal messages easier.</p>"},{"location":"globals/msg/#how-msg-works","title":"How <code>msg</code> Works","text":"<ul> <li>When the update type is a message, <code>msg</code> is available</li> <li><code>msg</code> contains the same object as <code>update.message</code></li> <li>If the update is not a message, <code>msg</code> is not available</li> </ul> <p>This means you don\u2019t need to access the full <code>update</code> object for common message-based bots.</p>"},{"location":"globals/msg/#important-notes","title":"Important Notes","text":"<ul> <li><code>msg</code> is available only for message updates</li> <li>It is read-only</li> <li>It exists only during command execution</li> </ul> <p>For simple bots that mainly handle messages, <code>msg</code> is often more convenient than using <code>update.message</code> directly.</p>"},{"location":"globals/options/","title":"The <code>options</code> Variable","text":"<p>In TBL, <code>options</code> contains custom data passed between commands or data returned from API callbacks.</p> <p>It helps share context without using global state.</p>"},{"location":"globals/options/#how-options-is-used","title":"How <code>options</code> Is Used","text":"<p>The <code>options</code> variable is commonly used in two cases:</p> <ul> <li>When chaining or triggering another command</li> <li>When receiving the result of a Telegram API call</li> </ul>"},{"location":"globals/options/#custom-data-example","title":"Custom Data Example","text":"<p>When passing custom data between commands, <code>options</code> may look like this:</p> <pre><code>{\n  \"name\": \"Alice\",\n  \"step\": 2\n}\n</code></pre> <p>This is useful for multi-step flows and internal state tracking.</p>"},{"location":"globals/options/#api-callback-example","title":"API Callback Example","text":"<p>When <code>options</code> comes from a Telegram API response, it may contain result data:</p> <pre><code>{\n  \"ok\": true,\n  \"result\": { }\n}\n</code></pre> <p>The <code>options</code> variable is mainly used for advanced flows and integrations.</p>"},{"location":"globals/owner/","title":"The <code>owner</code> Variable","text":"<p>In TBL, <code>owner</code> contains information about the bot owner.</p> <p>It provides details such as the owner\u2019s email, subscription plan, and API keys used for platform-level integrations.</p>"},{"location":"globals/owner/#what-owner-contains","title":"What <code>owner</code> Contains","text":"<p>The <code>owner</code> variable is a JSON object that may include:</p> <ul> <li>Owner email address</li> <li>API keys (public and private)</li> <li>Subscription plan details</li> <li>Purchase and expiry dates</li> </ul> <p>This information is useful for admin features, billing checks, and integrations.</p>"},{"location":"globals/owner/#demo-owner-object","title":"Demo Owner Object","text":"<p>Example structure of the <code>owner</code> object (values masked):</p> <pre><code>{\n  \"mail\": \"owner@example.com\",\n  \"api_keys\": {\n    \"public\": \"pub-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n    \"private\": \"sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n    \"generated_at\": \"2025-11-07T16:33:19.208Z\"\n  },\n  \"plan\": {\n    \"tier\": \"ELITE\",\n    \"purchase_at\": \"2025-11-21T14:06:37.815Z\",\n    \"expiry_at\": \"2026-08-18T12:01:06.657Z\"\n  }\n}\n</code></pre>"},{"location":"globals/owner/#important-notes","title":"Important Notes","text":"<ul> <li><code>owner</code> is read-only</li> <li>It exists only during command execution</li> <li>API keys should never be shared or exposed to users</li> </ul> <p>The <code>owner</code> variable is mainly intended for platform-level logic, not normal user-facing bot behavior.</p>"},{"location":"globals/params/","title":"The <code>params</code> Variable","text":"<p>In TBL, <code>params</code> contains the extra text sent after a command.</p> <p>It is useful when a command needs simple arguments or input.</p>"},{"location":"globals/params/#how-params-works","title":"How <code>params</code> Works","text":"<p>If a user sends:</p> <p><code>/start hello</code></p> <p>Then:</p> <ul> <li>Command \u2192 <code>/start</code></li> <li>Params \u2192 <code>hello</code></li> </ul> <p>So the value of <code>params</code> will be:</p> <p>\"hello\"</p>"},{"location":"globals/params/#important-notes","title":"Important Notes","text":"<ul> <li><code>params</code> contains text only</li> <li>It may be an empty string if no extra text is provided</li> <li>It exists only during command execution</li> </ul> <p><code>params</code> is a simple way to pass arguments to commands without using reply-based input.</p>"},{"location":"globals/plan/","title":"The <code>plan</code> Variable","text":"<p>In TBL, <code>plan</code> contains subscription and feature details of the bot owner\u2019s plan.</p> <p>It tells you what limits and features are available for the current bot.</p>"},{"location":"globals/plan/#what-plan-is-used-for","title":"What <code>plan</code> Is Used For","text":"<p>The <code>plan</code> variable helps you:</p> <ul> <li>Check feature availability</li> <li>Respect usage limits</li> <li>Adjust behavior based on plan level</li> </ul> <p>This is useful when building premium or restricted features.</p>"},{"location":"globals/plan/#demo-plan-object","title":"Demo Plan Object","text":"<p>Example structure of the <code>plan</code> object:</p> <pre><code>{\n  \"name\": \"Elite\",\n  \"premium\": true,\n  \"ads\": false,\n  \"prop_limit\": {\n    \"per_account\": 100\n  },\n  \"timeout\": 60000,\n  \"buffer_size\": 10485760,\n  \"parallel_process\": 40,\n  \"support_contact\": true,\n  \"sleep\": 50\n}\n</code></pre>"},{"location":"globals/plan/#important-notes","title":"Important Notes","text":"<ul> <li><code>plan</code> is read-only</li> <li>It exists only during command execution</li> <li>Values depend on the user\u2019s active subscription</li> </ul> <p>The <code>plan</code> variable allows bots to scale features safely based on account limits.</p>"},{"location":"globals/process/","title":"The <code>process</code> Object","text":"<p>In TBL, <code>process</code> provides runtime information about the current execution environment.</p> <p>It is mainly used to access environment variables that you configure from the bot dashboard.</p>"},{"location":"globals/process/#accessing-environment-variables","title":"Accessing Environment Variables","text":"<p>Environment variables are available inside:</p> <ul> <li><code>process.env</code></li> </ul> <p>These values come directly from the bot\u2019s Environment (ENV) settings in the dashboard.</p> <p>For example, if you set an env key named <code>API_KEY</code>, you can access it using:</p> <p>process.env.API_KEY</p>"},{"location":"globals/process/#demo-process-object","title":"Demo <code>process</code> Object","text":"<p>Example structure of the <code>process</code> object:</p> <pre><code>{\n  \"env\": {\n    \"22\": \"Ok\",\n    \"Test\": \"true\",\n    \"Yest3\": \"Ok\"\n  },\n  \"pid\": 652434,\n  \"MESSAGE\": \"For getting Env just use process.env.YOUR_ENV_NAME\"\n}\n</code></pre>"},{"location":"globals/process/#what-process-contains","title":"What <code>process</code> Contains","text":"<p>Common properties include:</p> <ul> <li><code>process.env</code> \u2192 all configured environment variables</li> <li><code>process.pid</code> \u2192 current execution process ID</li> <li>Additional runtime metadata</li> </ul>"},{"location":"globals/process/#important-notes","title":"Important Notes","text":"<ul> <li><code>process</code> is read-only</li> <li>Environment values are always strings</li> <li>Values exist only during command execution</li> </ul> <p>The <code>process</code> object is the correct and safe way to store secrets, keys, and configuration for your bot.</p>"},{"location":"globals/request/","title":"The <code>request</code> Variable","text":"<p>In TBL, <code>request</code> is a simplified version of <code>update</code></p> <p>TBL automatically detects the type of Telegram update and maps the relevant part into <code>request</code>.</p>"},{"location":"globals/request/#how-request-works","title":"How <code>request</code> Works","text":"<p>For normal Telegram updates:</p> <ul> <li>If the update type is <code>message</code>, then <code>request</code> is equal to <code>update.message</code></li> <li>If the update type is something else, <code>request</code> points to that specific part of the update</li> </ul> <p>This means you don\u2019t need to manually check update types in most cases.</p> <p>Info</p> <p><code>request</code> helps you work with the useful data directly, without parsing the full update JSON.</p>"},{"location":"globals/request/#request-in-webhook-mode","title":"<code>request</code> in Webhook Mode","text":"<p>Info</p> <p>ignore if you don't know abou <code>Webhook</code> feature in TBL.</p> <p>When a command is triggered via webhook, <code>request</code> contains HTTP request data instead of Telegram message data.</p> <p>It may include:</p> <ul> <li>Request IP</li> <li>Request body</li> <li>URL parameters</li> <li>Headers</li> <li>Method and metadata</li> </ul> <p>This makes <code>request</code> useful for building APIs, dashboards, and external integrations.</p>"},{"location":"globals/request/#important-notes","title":"Important Notes","text":"<ul> <li><code>request</code> is read-only</li> <li>It exists only during command execution</li> <li>Its structure depends on how the command was triggered</li> </ul> <p>For simple bots, you can use <code>request</code> instead of working with raw <code>update</code>.</p>"},{"location":"globals/tbl_options/","title":"The <code>tbl_options</code> Variable","text":"<p>In TBL, <code>tbl_options</code> contains exactly what you pass to a callback command.</p> <p>It is not wrapped or modified.</p>"},{"location":"globals/tbl_options/#how-tbl_options-is-used","title":"How <code>tbl_options</code> Is Used","text":"<p>The <code>tbl_options</code> variable is used when:</p> <ul> <li>A command is executed as a callback</li> <li>A value is explicitly passed for the next command</li> </ul> <p>It is not available in normal command execution.</p>"},{"location":"globals/tbl_options/#example-value","title":"Example Value","text":"<p>If this value is passed:</p> <p>```json {   \"key\": \"value\" } ```</p> <p>Then <code>tbl_options</code> will be that exact value.</p> <p>You can access it directly:</p> <p>tbl_options.key</p>"},{"location":"globals/tbl_options/#notes","title":"Notes","text":"<ul> <li><code>tbl_options</code> exists only in callback commands</li> <li>It can be any type (object, string, number, etc.)</li> <li>If nothing is passed, it will be <code>undefined</code></li> </ul>"},{"location":"globals/update/","title":"The <code>update</code> Variable","text":"<p>In TBL, <code>update</code> is a JSON object that contains the Telegram update which triggered the command.</p> <p>It is the raw data sent by Telegram for every interaction.</p>"},{"location":"globals/update/#what-it-contains","title":"What It Contains","text":"<p>The <code>update</code> JSON may include:</p> <ul> <li>Message data</li> <li>User information</li> <li>Chat details</li> <li>Update type information</li> </ul> <p>The exact fields depend on what kind of update was received.</p>"},{"location":"globals/update/#important-notes","title":"Important Notes","text":"<ul> <li><code>update</code> is read-only</li> <li>It exists only during the current command execution</li> <li>It represents the original Telegram payload</li> </ul>"},{"location":"globals/update/#learn-more","title":"Learn More","text":"<p>To understand the full structure of Telegram update JSON, see the official Telegram documentation:</p> <p>core.telegram.org/bots/api#update</p>"},{"location":"globals/update_type/","title":"The <code>update_type</code> Variable","text":"<p>In TBL, <code>update_type</code> is a string that tells you what kind of Telegram update triggered the command.</p> <p>It helps you understand the context of the incoming update.</p>"},{"location":"globals/update_type/#example-values","title":"Example Values","text":"<p>Some common values of <code>update_type</code> include:</p> <ul> <li><code>message</code></li> <li><code>chat_member</code></li> <li><code>channel_post</code></li> <li><code>poll</code></li> <li><code>message_reaction</code>   And more...</li> </ul> <p>The value depends on the type of update received from Telegram.</p>"},{"location":"globals/update_type/#important-notes","title":"Important Notes","text":"<ul> <li><code>update_type</code> is read-only</li> <li>It exists only during command execution</li> <li>It matches Telegram update type names</li> </ul>"},{"location":"globals/update_type/#learn-more","title":"Learn More","text":"<p>For a full list of Telegram update types, see the official documentation:</p> <p>core.telegram.org/bots/api#update</p>"},{"location":"globals/user/","title":"The <code>user</code> Variable","text":"<p>In TBL, <code>user</code> contains information about the user interacting with the bot.</p> <p>It represents the Telegram user related to the current update.</p>"},{"location":"globals/user/#what-user-contains","title":"What <code>user</code> Contains","text":"<p>The <code>user</code> variable is a JSON object with details about the user.</p>"},{"location":"globals/user/#demo-user-object","title":"Demo User Object","text":"<p>Example structure of the <code>user</code> object:</p> <pre><code>{\n  \"id\": 5723455420,\n  \"is_bot\": false,\n  \"first_name\": \"Soumyadeep \u221e\",\n  \"username\": \"soumyadeepdas765\",\n  \"language_code\": \"en\",\n  \"is_premium\": true,\n  \"last_name\": \"\",\n  \"telegramid\": 5723455420,\n  \"premium\": true,\n  \"blocked\": false,\n  \"block_reason\": null,\n  \"blocked_at\": null,\n  \"just_created\": false\n}\n</code></pre>"},{"location":"globals/user/#when-user-is-available","title":"When <code>user</code> Is Available","text":"<ul> <li>If the update comes from a user interaction, <code>user</code> is an object</li> <li>If the update does not involve a user, <code>user</code> can be <code>null</code></li> </ul>"},{"location":"globals/user/#important-notes","title":"Important Notes","text":"<ul> <li><code>user</code> is either an object or null</li> <li>It is read-only</li> <li>It exists only during the current command execution</li> </ul>"},{"location":"http-instance/","title":"HTTP Instance","text":""},{"location":"http-instance/#http-instance","title":"HTTP Instance","text":"<p>The HTTP instance allows your bot to make external API requests.</p> <p>It is used to communicate with services outside Telegram, such as third-party APIs or your own servers.</p> <p>With the HTTP instance, your bot can:</p> <ul> <li>Send GET and POST requests</li> <li>Fetch external data</li> <li>Send data to external services</li> <li>Handle API responses flexibly</li> </ul> <p>The HTTP instance is mainly used for external integrations.</p>"},{"location":"http-instance/http-callback/","title":"HTTP with Callback","text":""},{"location":"http-instance/http-callback/#using-http-with-fallback-commands","title":"Using HTTP with Fallback Commands","text":"<p>TBL allows you to define success and error fallback commands when making HTTP requests.</p> <p>These commands are executed automatically based on the result of the request.</p> <p>If the error command is missing, the success command will run instead.</p> <p>This makes HTTP workflows simple, safe, and predictable.</p>"},{"location":"http-instance/http-callback/#basic-http-request-with-fallback-commands","title":"Basic HTTP Request with Fallback Commands","text":"<p>You can attach <code>success</code> and <code>error</code> commands directly to an HTTP request.</p> <p>Example: <pre><code>HTTP.get({\n  url: \"https://jsonplaceholder.typicode.com/todos/1\",\n  success: \"onSuccess\",\n  error: \"onError\",\n  tbl_options: { key: value }\n})\n</code></pre></p>"},{"location":"http-instance/http-callback/#tbl_options","title":"tbl_options","text":"<ul> <li><code>tbl_options</code> is optional</li> <li>Used to pass custom data to the next command</li> <li>Available directly as <code>tbl_options</code> in the success or error command</li> </ul> <p>Example access:</p> <p>tbl_options.key</p>"},{"location":"http-instance/http-callback/#how-command-execution-works","title":"How Command Execution Works","text":"<ul> <li>If the HTTP request succeeds:</li> <li>The <code>success</code> command is executed</li> <li><code>options</code> contains the HTTP response</li> <li>If the HTTP request fails:</li> <li>The <code>error</code> command is executed</li> <li><code>options</code> contains the HTTP error</li> <li>If the <code>error</code> command is not defined:</li> <li>The <code>success</code> command will be executed instead</li> </ul> <p>Note</p> <p>The error command runs only on real HTTP failures such as invalid URLs, network errors, or server errors (e.g. 500).</p>"},{"location":"http-instance/http-callback/#example-success-command","title":"Example Success Command","text":"<p>The success command receives HTTP response data.</p> <p>Example: <pre><code>/*command: onSuccess*/\nBot.sendMessage(\"Fetched title: \" + content)\n</code></pre> On success, the following variables are available:</p> <ul> <li><code>http_response</code></li> <li><code>response</code></li> <li><code>content</code> (raw response body string)</li> <li><code>headers</code></li> <li><code>cookies</code></li> </ul>"},{"location":"http-instance/http-callback/#example-error-command","title":"Example Error Command","text":"<p>The error command receives HTTP error details.</p> <p>Example: <pre><code>/*command: onError*/\nBot.sendMessage(\"HTTP request failed: \" + error.status)\n</code></pre> On error, the following are available:</p> <ul> <li><code>error</code></li> <li><code>options</code> (error-related response data)</li> <li><code>tbl_options</code> (if provided)</li> </ul>"},{"location":"http-instance/http-callback/#available-response-data","title":"Available Response Data","text":"<p>On successful requests, detailed response information is available.</p> <p>See full documentation here: HTTP Response</p>"},{"location":"http-instance/http-callback/#important-notes","title":"Important Notes","text":"<p>Tip</p> <p>Use fallback commands to keep HTTP logic separate from message logic.</p> <p>Warning</p> <p>HTTP fallback commands do not catch TBL runtime errors. Those must be handled using the <code>!</code> command.</p> <p>This approach makes external API integration clean, modular, and easy to debug.</p>"},{"location":"http-instance/http-normal/","title":"HTTP Normal Use","text":""},{"location":"http-instance/http-normal/#using-the-http-instance","title":"Using the HTTP Instance","text":"<p>The HTTP instance allows your bot to make external API requests.</p> <p>You can call any HTTP method using:</p> <p><code>HTTP.method(...)</code></p> <p>All common HTTP methods are supported, such as GET, POST, PUT, PATCH, and DELETE.</p>"},{"location":"http-instance/http-normal/#simple-request","title":"Simple Request","text":"<p>The simplest form sends a request using only a URL.</p> <p>Example: <pre><code>//Pass url as String \nHTTP.get(\"https://example.com\")\n</code></pre></p>"},{"location":"http-instance/http-normal/#using-await-to-get-response-data","title":"Using await to Get Response Data","text":"<p>To access the response data, use <code>await</code>.</p> <p>Example: <pre><code>let res = await HTTP.get(\"https://example.com\")\n</code></pre> The returned value contains full information about the HTTP response.</p> <p>Tip</p> <p>Use <code>await</code> when you need to read the response body, status, or headers.</p>"},{"location":"http-instance/http-normal/#flexible-request-options","title":"Flexible Request Options","text":"<p>For more control, you can pass an options object.</p> <p>Example: <pre><code>HTTP.get({\n  url: \"https://example.com\",\n  body: null,\n  headers: {\n    Authorization: \"Bearer TOKEN\"\n  },\n  params: {key: 1},\n  timeout: 5000, //max 15s/15,000ms\n  redirect: true,\n  maxRedirect: 3\n})\n\n//Or \nHTTP.get(\"https://example.com\", { options }) \n</code></pre></p>"},{"location":"http-instance/http-normal/#available-options","title":"Available Options","text":"<ul> <li><code>url</code> \u2013 Request URL  </li> <li><code>body</code> \u2013 Request body (used in POST, PUT, etc.)  </li> <li><code>headers</code> \u2013 Custom request headers  </li> <li><code>timeout</code> \u2013 Request timeout in milliseconds  </li> <li><code>redirect</code> \u2013 Enable or disable redirects  </li> <li><code>maxRedirect</code> \u2013 Maximum redirect count (up to 3)</li> </ul> <p>Note</p> <p>Redirects are limited to avoid infinite loops.</p>"},{"location":"http-instance/http-normal/#demo-http-response","title":"Demo HTTP Response","text":"<p>Example response object returned by an HTTP request:</p> <pre><code>{\n  \"ok\": true,\n  \"status\": 200,\n  \"statusText\": \"\",\n  \"content\": \"OK\",\n  \"data\": \"OK\",\n  \"isJson\": false,\n  \"headers\": {\n    \"server\": \"nginx/1.24.0 (Ubuntu)\",\n    \"date\": \"Mon, 22 Dec 2025 17:03:56 GMT\",\n    \"content-type\": \"text/html; charset=utf-8\",\n    \"content-length\": \"2\",\n    \"connection\": \"keep-alive\",\n    \"x-powered-by\": \"Express\",\n    \"etag\": \"W/\\\"2-nOO9QiTIwXgNtWtBJezz8kv3SLc\\\"\"\n  },\n  \"cookies\": [],\n  \"url\": \"https://example.com\",\n  \"redirected\": false,\n  \"redirectCount\": 0\n}\n</code></pre>"},{"location":"http-instance/http-normal/#understanding-the-response","title":"Understanding the Response","text":"<ul> <li><code>ok</code> \u2013 Whether the request succeeded  </li> <li><code>status</code> \u2013 HTTP status code  </li> <li><code>content</code> \u2013 Raw response body (string)  </li> <li><code>data</code> \u2013 Parsed data (if JSON)  </li> <li><code>headers</code> \u2013 Response headers  </li> <li><code>cookies</code> \u2013 Cookies returned by the server  </li> </ul> <p>Info</p> <p>When <code>isJson</code> is true, <code>data</code> contains the parsed JSON response.</p>"},{"location":"http-instance/http-normal/#learn-more","title":"Learn More","text":"<p>For a full breakdown of response fields, see : HTTP Response</p>"},{"location":"http-instance/http-normal/#important-notes","title":"Important Notes","text":"<p>Warning</p> <p>External API failures do not crash your bot. Always check <code>res.ok</code> before using the response data.</p> <p>The HTTP instance is best used for external integrations, data fetching, and service communication.</p>"},{"location":"libs/","title":"TBL Libs","text":""},{"location":"libs/#libs-instance","title":"Libs Instance","text":"<p>The Libs instance provides direct access to TBL\u2019s built-in helper libraries.</p> <p>These libraries are designed to handle common tasks such as randomization, date and time operations, resource tracking, referrals, and Telegram-specific utilities.</p> <p>You can access any library using:</p> <p>Libs..() <p>Most methods return Promises. Using <code>await</code> is optional unless you need the returned value.</p>"},{"location":"libs/#what-libs-is-used-for","title":"What Libs Is Used For","text":"<p>Libs helps you avoid writing repetitive logic by offering ready-to-use helpers for:</p> <ul> <li>Tracking counters, balances, and shared values</li> <li>Formatting and calculating dates and times</li> <li>Checking user membership in channels or groups</li> <li>Generating random values</li> <li>Building referral systems</li> <li>Working with Telegram names, mentions, and formatting</li> </ul>"},{"location":"libs/#available-libraries","title":"Available Libraries","text":"<ul> <li> <p>ResourcesLib   Manage user-level or global counters, balances, and other persistent values.</p> </li> <li> <p>dateTimeFormat   Format dates, add or subtract time, and calculate differences between dates.</p> </li> <li> <p>MCL (Membership Checker Lib)   Check whether a user is a member of specific channels or groups and perform related checks.</p> </li> <li> <p>random   Generate random numbers, strings, colors, dates, and more.</p> </li> <li> <p>refLib   Create referral links and track invited or referred users.</p> </li> <li> <p>tgutil   Telegram-specific utilities for names, mentions, links, and text escaping.</p> </li> </ul>"},{"location":"libs/#notes","title":"Notes","text":"<ul> <li>Libs is available globally in TBL</li> <li>No setup or imports are required</li> <li>Designed for simplicity and performance</li> <li>Works seamlessly with commands and callbacks</li> </ul>"},{"location":"libs/date-time-format/","title":"dateTimeFormat","text":""},{"location":"libs/date-time-format/#datetimeformat","title":"dateTimeFormat","text":"<p>dateTimeFormat provides utilities for date and time formatting, calculations, and comparisons.</p> <p>It is useful for working with timestamps, scheduling logic, and displaying dates in a human-readable format.</p> <p>dateTimeFormat is available through the <code>Libs</code> instance.</p>"},{"location":"libs/date-time-format/#get-current-date-and-time","title":"Get Current Date and Time","text":"<p>Get the current date/time using a custom format mask.</p> <pre><code>let now = Libs.dateTimeFormat.getCurrentDate(\n  \"yyyy-mm-dd HH:MM:ss\"\n)\n</code></pre> <p>This returns the current date formatted as a string.</p>"},{"location":"libs/date-time-format/#add-days-to-a-date","title":"Add Days to a Date","text":"<p>You can add days to a given date.</p> <pre><code>let future = Libs.dateTimeFormat.addDays(\n  new Date(),\n  7\n)\n</code></pre> <p>This returns a new date object representing a future date.</p>"},{"location":"libs/date-time-format/#get-time-difference","title":"Get Time Difference","text":"<p>Calculate the difference between two dates.</p> <pre><code>let diff = Libs.dateTimeFormat.getTimeDifference(\n  \"2025-01-01\",\n  \"2025-02-01\"\n)\n</code></pre> <p>This returns the time difference between the two dates.</p>"},{"location":"libs/date-time-format/#notes","title":"Notes","text":"<ul> <li>Supports custom date masks</li> <li>Works with both strings and Date objects</li> <li>Useful for scheduling, cooldowns, and expiration logic</li> </ul>"},{"location":"libs/date-time-format/#full-documentation","title":"Full Documentation","text":"<p>dateTimeFormat Documentation</p>"},{"location":"libs/mcl/","title":"MCL (Membership Checker)","text":""},{"location":"libs/mcl/#mcl-membership-checker-lib","title":"MCL (Membership Checker Lib)","text":"<p>MCL is used to validate whether a user is a member of one or more Telegram channels or groups.</p> <p>It is commonly used to enforce join requirements before allowing users to access bot features.</p> <p>MCL is available through the <code>Libs</code> instance.</p>"},{"location":"libs/mcl/#check-user-membership","title":"Check User Membership","text":"<p>You can check if a user has joined specific channels or groups.</p> <pre><code>let joined = await Libs.mcl.check(\n  user.id,\n  [\"@Chan1\", \"@Chan2\"]\n)\n</code></pre> <p>This validates the user\u2019s membership across all provided channels.</p>"},{"location":"libs/mcl/#example-response","title":"Example Response","text":"<pre><code>{\n  all_joined: true,\n  valid: [\"@Channel1\", \"@Channel2\"],\n  left: [],\n  invalid: [],\n  details: [\n    {\n      channel: \"@Channel1\",\n      member: { /* full getChatMember response */ }\n    }\n  ]\n}\n</code></pre>"},{"location":"libs/mcl/#response-fields","title":"Response Fields","text":"<ul> <li> <p><code>all_joined</code>   Indicates whether the user joined all required channels</p> </li> <li> <p><code>valid</code>   Channels where the user is a valid member</p> </li> <li> <p><code>left</code>   Channels the user has left or not joined</p> </li> <li> <p><code>invalid</code>   Channels that are invalid or inaccessible</p> </li> <li> <p><code>details</code>   Detailed membership data from Telegram</p> </li> </ul>"},{"location":"libs/mcl/#notes","title":"Notes","text":"<ul> <li>Works with both channels and groups</li> <li>Requires the bot to be present in the target chats</li> <li>Useful for subscription-gated bots</li> </ul>"},{"location":"libs/mcl/#full-documentation","title":"Full Documentation","text":"<p>MCL Documentation</p>"},{"location":"libs/random/","title":"random","text":""},{"location":"libs/random/#random","title":"random","text":"<p>The random library provides utilities for generating random values of different types.</p> <p>It is useful for simulations, testing, games, unique identifiers, and dynamic content generation.</p> <p>random is available through the <code>Libs</code> instance.</p>"},{"location":"libs/random/#random-integer","title":"Random Integer","text":"<p>Generate a random integer within a range.</p> <pre><code>let num = Libs.random.randomInt(1, 10)\n</code></pre> <p>This returns a number between <code>1</code> and <code>10</code>.</p>"},{"location":"libs/random/#random-string","title":"Random String","text":"<p>Generate a random string with custom length and character set.</p> <pre><code>let str = Libs.random.randomString(\n  8,\n  { charset: \"alpha\" }\n)\n</code></pre> <p>This generates an 8-character alphabetic string.</p>"},{"location":"libs/random/#random-date","title":"Random Date","text":"<p>Generate a random date within a given range.</p> <pre><code>let date = Libs.random.randomDate(\n  new Date(2023, 0, 1),\n  new Date(2025, 0, 1)\n)\n</code></pre>"},{"location":"libs/random/#random-color","title":"Random Color","text":"<p>Generate a random color value.</p> <pre><code>let color = Libs.random.randomColor(\"rgb\")\n</code></pre>"},{"location":"libs/random/#notes","title":"Notes","text":"<ul> <li>Supports numbers, strings, dates, and colors</li> <li>Useful for games, testing, and mock data</li> <li>No setup required</li> </ul>"},{"location":"libs/random/#full-documentation","title":"Full Documentation","text":"<p>random Documentation</p>"},{"location":"libs/reflib/","title":"refLib","text":""},{"location":"libs/reflib/#reflib","title":"refLib","text":"<p>refLib provides tools for creating and tracking referral systems.</p> <p>It is useful for invite programs, growth tracking, and reward-based user onboarding.</p> <p>refLib is available through the <code>Libs</code> instance.</p>"},{"location":"libs/reflib/#create-a-referral-link","title":"Create a Referral Link","text":"<p>Generate a referral link for the bot.</p> <pre><code>let refLink = Libs.refLib.getRefLink(bot.name)\n</code></pre> <p>This creates a unique referral link that can be shared with others.</p>"},{"location":"libs/reflib/#count-user-referrals","title":"Count User Referrals","text":"<p>Get the number of users referred by a specific user.</p> <pre><code>let count = Libs.refLib.getRefCount(user.id)\n</code></pre> <p>This returns the total referral count for that user.</p>"},{"location":"libs/reflib/#notes","title":"Notes","text":"<ul> <li>Referral tracking is handled automatically</li> <li>Works across user sessions</li> <li>Useful for reward or invite-based systems</li> </ul>"},{"location":"libs/reflib/#full-documentation","title":"Full Documentation","text":"<p>refLib Documentation</p>"},{"location":"libs/resourceslib/","title":"ResourcesLib","text":""},{"location":"libs/resourceslib/#resourceslib","title":"ResourcesLib","text":"<p>ResourcesLib is used to manage persistent numeric resources at both user level and global level.</p> <p>It is commonly used for things like balances, counters, credits, points, or usage tracking.</p> <p>Resources created with ResourcesLib are stored persistently and automatically handled by TBL.</p>"},{"location":"libs/resourceslib/#user-level-resources","title":"User-Level Resources","text":"<p>User resources are scoped to the current user.</p> <p>Example:</p> <pre><code>let coins = Libs.ResourcesLib.userRes(\"coins\")\n\ncoins.add(50)\nlet current = coins.value()\n</code></pre> <ul> <li>Each user has their own independent value</li> <li>Useful for coins, XP, credits, or limits</li> </ul>"},{"location":"libs/resourceslib/#global-resources","title":"Global Resources","text":"<p>Global resources are shared across all users of the same bot.</p> <p>Any update to a global resource affects every user interacting with that bot.</p> <p>Example:</p> <pre><code>let globalCounter = Libs.ResourcesLib.anotherRes(\"visits\")\n\nglobalCounter.add(1)\n</code></pre> <ul> <li>One shared value for the entire bot</li> <li>Useful for visits, totals, or bot-wide counters</li> </ul> <p>Info</p> <p>Global resources are bot-wide, not user-specific. They are not shared between different bots.</p>"},{"location":"libs/resourceslib/#common-operations","title":"Common Operations","text":"<p>Resources support simple operations such as:</p> <ul> <li>Adding values</li> <li>Reading current value</li> <li>Persistent storage without manual save logic</li> </ul>"},{"location":"libs/resourceslib/#notes","title":"Notes","text":"<ul> <li>Resources are created automatically if they don\u2019t exist</li> <li>Values are stored persistently</li> <li>No setup or schema required</li> <li>Safe to use in commands and callbacks</li> </ul>"},{"location":"libs/resourceslib/#full-documentation","title":"Full Documentation","text":"<p>ResourcesLib Documentation</p>"},{"location":"libs/tgutil/","title":"tgutil","text":""},{"location":"libs/tgutil/#tgutil","title":"tgutil","text":"<p>tgutil provides Telegram-specific helper utilities for working with users, text formatting, links, and buttons.</p> <p>It helps simplify common Telegram-related tasks and ensures safe formatting across messages.</p> <p>tgutil is available through the <code>Libs</code> instance.</p>"},{"location":"libs/tgutil/#get-users-full-name","title":"Get User\u2019s Full Name","text":"<p>Combine first name and last name safely.</p> <pre><code>let fullName = Libs.tgutil.getFullName(user)\n</code></pre> <p>This returns a properly formatted full name for the user.</p>"},{"location":"libs/tgutil/#create-a-clickable-user-link","title":"Create a Clickable User Link","text":"<p>Generate a clickable link to a user profile.</p> <pre><code>let link = Libs.tgutil.getLinkFor(\n  user,\n  \"html\"\n)\n</code></pre> <p>The format can be <code>html</code> or <code>markdown</code>.</p>"},{"location":"libs/tgutil/#escape-text-safely","title":"Escape Text Safely","text":"<p>Escape text to prevent formatting issues.</p> <pre><code>let safeText = Libs.tgutil.escapeText(\n  \"*Hello*\",\n  \"markdown\"\n)\n</code></pre> <p>This ensures the text is safe to send in messages.</p>"},{"location":"libs/tgutil/#create-an-inline-button","title":"Create an Inline Button","text":"<p>Generate an inline keyboard button.</p> <pre><code>let btn = Libs.tgutil.createInlineButton(\n  \"Press Me\",\n  \"/callback_data\"\n)\n</code></pre> <p>The returned button can be used in <code>reply_markup</code>.</p>"},{"location":"libs/tgutil/#notes","title":"Notes","text":"<ul> <li>Useful for mentions, links, and formatting</li> <li>Prevents Markdown and HTML injection issues</li> <li>Designed for Telegram-specific workflows</li> </ul>"},{"location":"libs/tgutil/#full-documentation","title":"Full Documentation","text":"<p>tgutil Documentation</p>"},{"location":"modules/","title":"modules Object","text":"<p>The modules object provides access to preloaded utility libraries inside TBL.</p> <p>It allows you to perform common tasks such as data processing, validation, formatting, and other helper operations without importing or installing anything.</p> <p>Modules are accessed using:</p> <p>modules.moduleName.method()</p> <p>All modules are sandboxed and safe to use within TBL.</p>"},{"location":"modules/#notes","title":"Notes","text":"<ul> <li><code>modules</code> is available globally</li> <li>No setup or imports are required</li> <li>Only approved libraries are exposed</li> <li>Designed for convenience and security</li> </ul>"},{"location":"modules/bcrypt/","title":"bcrypt","text":""},{"location":"modules/bcrypt/#bcrypt","title":"bcrypt","text":"<p>bcrypt is used for secure password hashing and verification.</p> <p>It is essential for safely storing passwords instead of saving them as plain text.</p> <p>bcrypt functionality is available through the <code>modules</code> object.</p>"},{"location":"modules/bcrypt/#hashing-a-password","title":"Hashing a Password","text":"<pre><code>const hash = await modules.bcrypt.hash(\n  \"password123\",\n  10\n)\n</code></pre> <ul> <li>The second argument is the salt rounds</li> <li>Higher values increase security but take more time</li> </ul>"},{"location":"modules/bcrypt/#verifying-a-password","title":"Verifying a Password","text":"<pre><code>const match = await modules.bcrypt.compare(\n  \"password123\",\n  hash\n)\n</code></pre> <p>This checks whether the password matches the stored hash.</p>"},{"location":"modules/bcrypt/#example-output","title":"Example Output","text":"<pre><code>hash  \u2192 \"$2b$10$e0N....\"\nmatch \u2192 true\n</code></pre>"},{"location":"modules/bcrypt/#notes","title":"Notes","text":"<ul> <li>Always store hashes, never raw passwords</li> <li>Use a reasonable salt round value (e.g. 10\u201312)</li> <li>Comparison is safe against timing attacks</li> </ul>"},{"location":"modules/bcrypt/#official-documentation","title":"Official Documentation","text":"<p>bcrypt Docs</p>"},{"location":"modules/chance/","title":"chance","text":""},{"location":"modules/chance/#chance","title":"chance","text":"<p>chance is used to generate random data such as names, addresses, and phone numbers.</p> <p>It is useful for testing, demos, or mock data.</p>"},{"location":"modules/chance/#generate-a-random-name","title":"Generate a Random Name","text":"<pre><code>const name = modules.chance.name()\n</code></pre>"},{"location":"modules/chance/#example-output","title":"Example Output","text":"<pre><code>name \u2192 \"Alice Johnson\"\n</code></pre>"},{"location":"modules/chance/#official-documentation","title":"Official Documentation","text":"<p>chance Docs</p>"},{"location":"modules/cheerio/","title":"cheerio","text":""},{"location":"modules/cheerio/#cheerio","title":"cheerio","text":"<p>cheerio is used to parse and manipulate HTML in Node.js, similar to jQuery.</p> <p>It is useful for scraping and DOM manipulation.</p>"},{"location":"modules/cheerio/#load-and-read-html","title":"Load and Read HTML","text":"<pre><code>const $ = modules.cheerio.load(\"&lt;p&gt;Hello&lt;/p&gt;\")\nconst text = $(\"p\").text()\n</code></pre>"},{"location":"modules/cheerio/#example-output","title":"Example Output","text":"<pre><code>text \u2192 \"Hello\"\n</code></pre>"},{"location":"modules/cheerio/#official-documentation","title":"Official Documentation","text":"<p>cheerio Docs</p>"},{"location":"modules/crypto/","title":"crypto","text":""},{"location":"modules/crypto/#crypto","title":"crypto","text":"<p>The crypto utility provides cryptographic functions such as hashing, encryption, and decryption.</p> <p>It is useful for:</p> <ul> <li>Hashing data</li> <li>Generating secure values</li> <li>Working with cryptographic algorithms</li> </ul>"},{"location":"modules/crypto/#availability","title":"Availability","text":"<p>The <code>crypto</code> utility is available by default.</p> <p>You can use it in two ways:</p> <ul> <li> <p>Directly:   crypto.xxx</p> </li> <li> <p>Through modules:   modules.crypto.xxx</p> </li> </ul> <p>Both forms work the same.</p>"},{"location":"modules/crypto/#creating-a-sha256-hash","title":"Creating a SHA256 Hash","text":"<pre><code>const hash = crypto\n  .createHash(\"sha256\")\n  .update(\"data\")\n  .digest(\"hex\")\n</code></pre> <p>The same example using <code>modules</code>:</p> <pre><code>const hash = modules.crypto\n  .createHash(\"sha256\")\n  .update(\"data\")\n  .digest(\"hex\")\n</code></pre>"},{"location":"modules/crypto/#example-output","title":"Example Output","text":"<pre><code>hash \u2192 \"3a6eb...9f1\"\n</code></pre>"},{"location":"modules/crypto/#notes","title":"Notes","text":"<ul> <li>Cryptographic operations are synchronous</li> <li>Output format depends on the digest method used</li> <li>Use strong algorithms like <code>sha256</code> or higher</li> </ul>"},{"location":"modules/crypto/#official-documentation","title":"Official Documentation","text":"<p>Node.js crypto Docs</p>"},{"location":"modules/dayjs/","title":"dayjs","text":""},{"location":"modules/dayjs/#dayjs","title":"dayjs","text":"<p>dayjs is a lightweight alternative to Moment.js for date and time operations.</p>"},{"location":"modules/dayjs/#format-current-date","title":"Format Current Date","text":"<pre><code>const today = modules.dayjs().format(\"YYYY-MM-DD\")\n</code></pre>"},{"location":"modules/dayjs/#example-output","title":"Example Output","text":"<pre><code>today \u2192 \"2025-09-19\"\n</code></pre> <p>Note</p> <p>TBL also provides its own basic utilities for time parsing.</p>"},{"location":"modules/dayjs/#official-documentation","title":"Official Documentation","text":"<p>dayjs Docs</p>"},{"location":"modules/deepmerge/","title":"deepmerge","text":""},{"location":"modules/deepmerge/#deepmerge","title":"deepmerge","text":"<p>deepmerge is used to deeply merge objects.</p> <p>It is useful for combining configurations or nested data.</p>"},{"location":"modules/deepmerge/#merge-two-objects","title":"Merge Two Objects","text":"<pre><code>const merged = modules.deepmerge(\n  { a: 1, b: { x: 1 } },\n  { b: { y: 2 }, c: 3 }\n)\n</code></pre>"},{"location":"modules/deepmerge/#example-output","title":"Example Output","text":"<pre><code>merged \u2192 { a: 1, b: { x: 1, y: 2 }, c: 3 }\n</code></pre>"},{"location":"modules/deepmerge/#official-documentation","title":"Official Documentation","text":"<p>deepmerge Docs</p>"},{"location":"modules/humanize-duration/","title":"humanizeDuration","text":""},{"location":"modules/humanize-duration/#humanizeduration","title":"humanizeDuration","text":"<p>humanizeDuration converts milliseconds into human-readable text.</p> <p>It is useful for displaying time durations to users.</p>"},{"location":"modules/humanize-duration/#convert-duration","title":"Convert Duration","text":"<pre><code>const duration = modules.humanizeDuration(3600000)\n</code></pre>"},{"location":"modules/humanize-duration/#example-output","title":"Example Output","text":"<pre><code>duration \u2192 \"1 hour\"\n</code></pre>"},{"location":"modules/humanize-duration/#official-documentation","title":"Official Documentation","text":"<p>humanize-duration Docs</p>"},{"location":"modules/jwt/","title":"jwt","text":""},{"location":"modules/jwt/#jwt","title":"JWT","text":"<p>JWT is used for creating and verifying JSON Web Tokens.</p> <p>It is commonly used for:</p> <ul> <li>Authentication</li> <li>Session management</li> <li>Secure data transfer between systems</li> </ul> <p>JWT functionality is available through the <code>modules</code> object.</p>"},{"location":"modules/jwt/#creating-a-token","title":"Creating a Token","text":"<pre><code>const token = modules.JWT.sign(\n  { userId: 123 },\n  \"secret\"\n)\n</code></pre> <p>This generates a signed token string.</p>"},{"location":"modules/jwt/#verifying-a-token","title":"Verifying a Token","text":"<pre><code>const decoded = modules.JWT.verify(\n  token,\n  \"secret\"\n)\n</code></pre> <p>This verifies the token and returns the decoded payload.</p>"},{"location":"modules/jwt/#example-output","title":"Example Output","text":"<pre><code>token   \u2192 \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\ndecoded \u2192 { userId: 123, iat: 1690000000 }\n</code></pre>"},{"location":"modules/jwt/#notes","title":"Notes","text":"<ul> <li>Tokens are cryptographically signed</li> <li>Use strong secrets or keys</li> <li>Verification fails if the token is invalid or expired</li> </ul>"},{"location":"modules/jwt/#official-documentation","title":"Official Documentation","text":"<p>JWT Docs</p>"},{"location":"modules/loadash/","title":"lodash","text":""},{"location":"modules/loadash/#lodash","title":"lodash","text":"<p>lodash is a utility library for array, object, and function operations.</p> <p>It is very useful for:</p> <ul> <li>Filtering data</li> <li>Mapping and transforming arrays</li> <li>Working with objects</li> <li>Simplifying common logic</li> </ul> <p>lodash functionality is available through the <code>modules</code> object.</p>"},{"location":"modules/loadash/#filtering-an-array","title":"Filtering an Array","text":"<pre><code>const result = modules.lodash.filter(\n  [1, 2, 3, 4],\n  n =&gt; n &gt; 2\n)\n</code></pre> <p>This filters the array and returns only values greater than <code>2</code>.</p>"},{"location":"modules/loadash/#example-output","title":"Example Output","text":"<pre><code>result \u2192 [3, 4]\n</code></pre>"},{"location":"modules/loadash/#notes","title":"Notes","text":"<ul> <li>Works with arrays, objects, and collections</li> <li>Helps reduce boilerplate code</li> <li>Methods follow standard lodash behavior</li> </ul>"},{"location":"modules/loadash/#official-documentation","title":"Official Documentation","text":"<p>lodash Docs</p>"},{"location":"modules/math/","title":"math","text":""},{"location":"modules/math/#math","title":"math","text":"<p>math provides mathematical functions such as square root, powers, and trigonometry.</p>"},{"location":"modules/math/#square-root-example","title":"Square Root Example","text":"<pre><code>const val = modules.math.sqrt(25)\n</code></pre>"},{"location":"modules/math/#example-output","title":"Example Output","text":"<pre><code>val \u2192 5\n</code></pre>"},{"location":"modules/math/#official-documentation","title":"Official Documentation","text":"<p>mathjs Docs</p>"},{"location":"modules/moment/","title":"moment","text":""},{"location":"modules/moment/#moment","title":"moment","text":"<p>moment is a powerful library for date and time manipulation.</p> <p>It allows you to easily format, parse, and calculate dates and times.</p> <p>moment functionality is available through the <code>modules</code> object.</p>"},{"location":"modules/moment/#formatting-the-current-date","title":"Formatting the Current Date","text":"<pre><code>const dateStr = modules.moment()\n  .format(\"YYYY-MM-DD\")\n</code></pre> <p>This returns the current date formatted as a string.</p>"},{"location":"modules/moment/#example-output","title":"Example Output","text":"<pre><code>dateStr \u2192 \"2025-09-19\"\n</code></pre>"},{"location":"modules/moment/#notes","title":"Notes","text":"<ul> <li>Supports parsing, formatting, and date calculations</li> <li>Works with time zones and locales</li> <li>Commonly used for human-readable dates</li> </ul>"},{"location":"modules/moment/#official-documentation","title":"Official Documentation","text":"<p>moment Docs</p>"},{"location":"modules/parse-csv/","title":"ParseCSV","text":""},{"location":"modules/parse-csv/#parsecsv","title":"ParseCSV","text":"<p>ParseCSV is used to parse CSV strings into JSON objects.</p> <p>It is useful when working with CSV data in bots or scripts, such as importing lists, reports, or external data sources.</p> <p>ParseCSV functionality is available through the <code>modules</code> object.</p>"},{"location":"modules/parse-csv/#parsing-a-csv-string","title":"Parsing a CSV String","text":"<pre><code>const result = modules.ParseCSV.parse(\n  \"name,age\\nAlice,25\\nBob,30\"\n)\n</code></pre> <p>This converts CSV rows into an array of objects.</p>"},{"location":"modules/parse-csv/#example-output","title":"Example Output","text":"<pre><code>result \u2192 [\n  { name: \"Alice\", age: \"25\" },\n  { name: \"Bob\", age: \"30\" }\n]\n</code></pre> <p>Values are returned as strings by default.</p>"},{"location":"modules/parse-csv/#notes","title":"Notes","text":"<ul> <li>The first row is treated as column headers</li> <li>Each row becomes one object</li> <li>Useful for quick CSV imports and transformations</li> </ul>"},{"location":"modules/parse-csv/#official-documentation","title":"Official Documentation","text":"<p>csv-parse Docs</p>"},{"location":"modules/parse-yml/","title":"ParseYML","text":""},{"location":"modules/parse-yml/#parseyml","title":"ParseYML","text":"<p>ParseYML is used to parse YAML strings into JSON objects.</p> <p>It is useful when working with YAML configuration files or structured data written in YAML format.</p> <p>ParseYML functionality is available through the <code>modules</code> object.</p>"},{"location":"modules/parse-yml/#parsing-a-yaml-string","title":"Parsing a YAML String","text":"<pre><code>const result = modules.ParseYML.parse(\n  \"name: Alice\\nage: 25\"\n)\n</code></pre> <p>This converts YAML content into a JavaScript object.</p>"},{"location":"modules/parse-yml/#example-output","title":"Example Output","text":"<pre><code>result \u2192 {\n  name: \"Alice\",\n  age: 25\n}\n</code></pre> <p>Unlike CSV parsing, numeric values are automatically converted to numbers.</p>"},{"location":"modules/parse-yml/#notes","title":"Notes","text":"<ul> <li>YAML indentation is respected</li> <li>Supports standard YAML syntax</li> <li>Useful for configuration files and structured settings</li> </ul>"},{"location":"modules/parse-yml/#official-documentation","title":"Official Documentation","text":"<p>js-yaml Docs</p>"},{"location":"modules/qs/","title":"qs","text":""},{"location":"modules/qs/#qs","title":"qs","text":"<p>qs is used to parse and format query strings.</p> <p>It is useful when working with URL parameters.</p>"},{"location":"modules/qs/#parse-a-query-string","title":"Parse a Query String","text":"<pre><code>const obj = modules.qs.parse(\"a=1&amp;b=2\")\n</code></pre>"},{"location":"modules/qs/#example-output","title":"Example Output","text":"<pre><code>obj \u2192 { a: \"1\", b: \"2\" }\n</code></pre>"},{"location":"modules/qs/#official-documentation","title":"Official Documentation","text":"<p>qs Docs</p>"},{"location":"modules/randomstring/","title":"randomstring","text":""},{"location":"modules/randomstring/#randomstring","title":"randomstring","text":"<p>randomstring is used to generate random alphanumeric strings.</p> <p>It is useful for temporary passwords, tokens, or unique identifiers.</p>"},{"location":"modules/randomstring/#generate-a-random-string","title":"Generate a Random String","text":"<pre><code>const str = modules.randomstring.generate(10)\n</code></pre>"},{"location":"modules/randomstring/#example-output","title":"Example Output","text":"<pre><code>str \u2192 \"a1b2c3d4e5\"\n</code></pre>"},{"location":"modules/randomstring/#official-documentation","title":"Official Documentation","text":"<p>randomstring Docs</p>"},{"location":"modules/sortid/","title":"shortid","text":""},{"location":"modules/sortid/#shortid","title":"shortid","text":"<p>shortid is used to generate short unique identifiers.</p> <p>It is useful when compact IDs are needed.</p>"},{"location":"modules/sortid/#generate-a-short-id","title":"Generate a Short ID","text":"<pre><code>const id = modules.shortid.generate()\n</code></pre>"},{"location":"modules/sortid/#example-output","title":"Example Output","text":"<pre><code>id \u2192 \"ppBqWA9\"\n</code></pre>"},{"location":"modules/sortid/#official-documentation","title":"Official Documentation","text":"<p>shortid Docs</p>"},{"location":"modules/uaparser/","title":"uaParser","text":""},{"location":"modules/uaparser/#uaparser","title":"uaParser","text":"<p>uaParser is used to parse user-agent strings and extract information about the browser, operating system, and device.</p> <p>It is useful for:</p> <ul> <li>Analytics</li> <li>Logging</li> <li>Device detection</li> <li>Customizing content based on client environment</li> </ul> <p>uaParser functionality is available through the <code>modules</code> object.</p>"},{"location":"modules/uaparser/#parsing-a-user-agent-string","title":"Parsing a User-Agent String","text":"<pre><code>const ua = modules.uaParser.parse(\n  \"Mozilla/5.0 (Windows NT 10.0; Win64; x64)\"\n)\n</code></pre> <p>This returns a structured object describing the client.</p>"},{"location":"modules/uaparser/#example-output","title":"Example Output","text":"<pre><code>ua \u2192 {\n  browser: { name: \"Firefox\", version: \"xx\" },\n  os: { name: \"Windows\", version: \"10\" },\n  device: { model: \"\", type: \"\", vendor: \"\" }\n}\n</code></pre>"},{"location":"modules/uaparser/#notes","title":"Notes","text":"<ul> <li>Browser, OS, and device details are extracted automatically</li> <li>Device fields may be empty for desktop browsers</li> <li>Useful for environment-aware logic</li> </ul>"},{"location":"modules/uaparser/#official-documentation","title":"Official Documentation","text":"<p>ua-parser-js Docs</p>"},{"location":"modules/uuid/","title":"UUID","text":""},{"location":"modules/uuid/#uuid","title":"UUID","text":"<p>UUID is used to generate unique identifiers.</p> <p>It is useful for:</p> <ul> <li>Unique keys</li> <li>Transaction IDs</li> <li>Session identifiers</li> <li>Request or reference IDs</li> </ul> <p>UUID functionality is available through the <code>modules</code> object.</p>"},{"location":"modules/uuid/#generating-a-uuid-v4","title":"Generating a UUID (v4)","text":"<pre><code>const id = modules.UUID.uuidv4()\n</code></pre> <p>This generates a random UUID (version 4).</p>"},{"location":"modules/uuid/#example-output","title":"Example Output","text":"<pre><code>id \u2192 \"550e8400-e29b-41d4-a716-446655440000\"\n</code></pre> <p>Each generated value is globally unique.</p>"},{"location":"modules/uuid/#notes","title":"Notes","text":"<ul> <li>UUIDs are collision-resistant</li> <li>Safe to use for identifiers across systems</li> <li>Does not require any configuration</li> </ul>"},{"location":"modules/uuid/#official-documentation","title":"Official Documentation","text":"<p>UUID Docs</p>"},{"location":"modules/validator/","title":"validator","text":""},{"location":"modules/validator/#validator","title":"validator","text":"<p>validator is used to validate strings such as emails, URLs, and other formats.</p> <p>It helps ensure input data is valid before processing.</p>"},{"location":"modules/validator/#validate-an-email","title":"Validate an Email","text":"<pre><code>const valid = modules.validator.isEmail(\"email@example.com\")\n</code></pre>"},{"location":"modules/validator/#example-output","title":"Example Output","text":"<pre><code>valid \u2192 true\n</code></pre>"},{"location":"modules/validator/#official-documentation","title":"Official Documentation","text":"<p>validator Docs</p>"},{"location":"modules/zod/","title":"zod","text":""},{"location":"modules/zod/#zod","title":"zod","text":"<p>zod is a schema validation library used for structured data validation.</p> <p>It is useful for validating inputs and API payloads.</p>"},{"location":"modules/zod/#validate-a-string","title":"Validate a String","text":"<pre><code>const result = modules.zod.string().parse(\"Hello\")\n</code></pre>"},{"location":"modules/zod/#example-output","title":"Example Output","text":"<pre><code>result \u2192 \"Hello\"\n</code></pre>"},{"location":"modules/zod/#official-documentation","title":"Official Documentation","text":"<p>zod Docs</p>"},{"location":"msg-instance/","title":"msg Instance","text":"<p>The msg instance is used to interact with Telegram messages.</p> <p>It allows you to perform message-level actions such as:</p> <ul> <li>Send messages</li> <li>Reply to messages</li> <li>Edit messages</li> <li>Delete messages</li> <li>Forward or copy messages</li> <li>Add reactions</li> <li>Perform chat actions (like typing, upload, etc.)</li> </ul> <p>All <code>msg</code> methods return Promises.</p> <p>Using <code>await</code> is optional \u2014 it is required only when you need access to the response object for further actions.</p> <p>The <code>msg</code> instance works only when a message context exists, meaning it is available in message-based updates.</p>"},{"location":"msg-instance/msg-obj/","title":"msg object","text":""},{"location":"msg-instance/msg-obj/#msg-as-an-object","title":"msg as an Object","text":"<p>The msg instance also acts as a message object.</p> <p>It contains the full Telegram message data for the current update.</p>"},{"location":"msg-instance/msg-obj/#common-properties","title":"Common Properties","text":"<ul> <li> <p><code>msg.text</code>   Message text (if any)</p> </li> <li> <p><code>msg.chat</code>   Chat information (id, type, title, etc.)</p> </li> <li> <p><code>msg.from</code>   Sender information</p> </li> <li> <p><code>msg.message_id</code>   Unique message identifier</p> </li> <li> <p><code>msg.date</code>   Message timestamp</p> </li> </ul> <p>All standard Telegram Message fields are available through <code>msg</code>.</p>"},{"location":"msg-instance/msg-obj/#availability","title":"Availability","text":"<ul> <li>The msg object exists only for message-based updates</li> <li>It is not available for non-message updates (like callbacks or webhooks)</li> <li>All message-related actions rely on this object</li> </ul>"},{"location":"msg-instance/msg-obj/#notes","title":"Notes","text":"<ul> <li> <p>All msg methods are case-insensitive   Example: <code>msg.replyPhoto()</code> and <code>msg.replyphoto()</code> both work</p> </li> <li> <p>Markdown parsing is enabled by default for text replies</p> </li> <li> <p>msg provides both data access and action methods in one place</p> </li> </ul>"},{"location":"msg-instance/use-msg/","title":"using msg","text":""},{"location":"msg-instance/use-msg/#using-the-msg-instance","title":"Using the msg Instance","text":"<p>The msg instance is used to interact with the current Telegram message.</p> <p>It allows replying, sending new messages, editing, deleting, reacting, forwarding, and performing chat actions.</p> <p>All msg methods return Promises. Using <code>await</code> is optional and only needed if you want the response object.</p>"},{"location":"msg-instance/use-msg/#available-methods","title":"Available Methods","text":"<ul> <li> <p>Core Messaging <code>msg.reply()</code> <code>msg.send()</code></p> </li> <li> <p>Media Messages <code>msg.replyPhoto()</code> <code>msg.replyVideo()</code> <code>msg.replyDocument()</code></p> </li> <li> <p>Message Management <code>msg.editText()</code> <code>msg.delete()</code> <code>msg.react()</code> <code>msg.pin()</code> <code>msg.unpin()</code></p> </li> <li> <p>Forwarding &amp; Copying <code>msg.forward()</code> <code>msg.copy()</code></p> </li> <li> <p>Special Messages <code>msg.replySticker()</code> <code>msg.replyDice()</code></p> </li> <li> <p>Chat Actions <code>msg.sendChatAction()</code></p> </li> </ul>"},{"location":"msg-instance/use-msg/#core-messaging","title":"Core Messaging","text":"<p>Reply to the current message:</p> <pre><code>msg.reply(\"Hello!\")\nlet result = await msg.reply(\"Hello!\")\n</code></pre> <p>Send a new message:</p> <pre><code>msg.send(\"This is a new message\")\nawait msg.send(\"This is a new message\", { parse_mode: \"Markdown\" })\n</code></pre>"},{"location":"msg-instance/use-msg/#media-messages","title":"Media Messages","text":"<p>Reply with a photo:</p> <pre><code>msg.replyPhoto(\"https://example.com/cat.jpg\", { caption: \"Cute cat \ud83d\udc31\" })\nawait msg.replyPhoto(\"https://example.com/cat.jpg\", { caption: \"Cute cat \ud83d\udc31\" })\n</code></pre> <p>Reply with a video:</p> <pre><code>msg.replyVideo(\"https://example.com/video.mp4\")\nawait msg.replyVideo(\"https://example.com/video.mp4\", { caption: \"Watch this!\" })\n</code></pre> <p>Reply with a document:</p> <pre><code>msg.replyDocument(\"file.pdf\")\nawait msg.replyDocument(\"file.pdf\")\n</code></pre>"},{"location":"msg-instance/use-msg/#message-management","title":"Message Management","text":"<p>Edit message text:</p> <pre><code>msg.editText(\"Updated text\")\nawait msg.editText(\"Updated text\", { parse_mode: \"Markdown\" })\n</code></pre> <p>Delete a message:</p> <pre><code>msg.delete(msg.message_id)\nawait msg.delete(msg.message_id)\n</code></pre> <p>React to a message:</p> <pre><code>msg.react(\"\ud83d\udc4d\")\nmsg.react(\"\ud83d\udd25\", true)\n</code></pre> <p>Pin and unpin messages:</p> <pre><code>msg.pin()\nmsg.unpin(msg.message_id)\n</code></pre>"},{"location":"msg-instance/use-msg/#forwarding-copying","title":"Forwarding &amp; Copying","text":"<p>Forward a message:</p> <pre><code>msg.forward(123456789)\nawait msg.forward(123456789)\n</code></pre> <p>Copy a message:</p> <pre><code>msg.copy(123456789, { caption: \"Copied message\" })\nawait msg.copy(123456789, { caption: \"Copied message\" })\n</code></pre>"},{"location":"msg-instance/use-msg/#special-messages","title":"Special Messages","text":"<p>Reply with a sticker:</p> <pre><code>msg.replySticker(\"CAACAgUAAxkBAAECX-9g1...\")\nawait msg.replySticker(\"CAACAgUAAxkBAAECX-9g1...\")\n</code></pre> <p>Reply with a dice:</p> <pre><code>msg.replyDice(\"\ud83c\udfb2\")\nawait msg.replyDice(\"\ud83c\udfb2\")\n</code></pre>"},{"location":"msg-instance/use-msg/#chat-actions","title":"Chat Actions","text":"<p>Show typing indicator:</p> <pre><code>msg.sendChatAction(\"typing\")\nawait msg.sendChatAction(\"typing\")\n</code></pre> <p>Other supported actions include:</p> <ul> <li><code>upload_photo</code></li> <li><code>record_video</code></li> <li><code>record_audio</code></li> <li><code>upload_document</code></li> </ul>"},{"location":"msg-instance/use-msg/#chained-methods","title":"Chained Methods","text":"<p>When you use <code>await</code>, msg methods support chained actions.</p> <pre><code>let data = await msg.reply(\"Hello!\")\ndata.pin()\n</code></pre> <p>More details about chained methods: Api chained</p>"},{"location":"user-instance/","title":"User Instance","text":"<p>The User instance is used to store and manage data at the user level.</p> <p>Just like the Bot instance stores data for the bot, the User instance stores data separately for each user.</p> <p>Each user has their own private storage, and data saved for one user is not shared with others.</p> <p>This is useful for:</p> <ul> <li>User preferences</li> <li>User-specific settings</li> <li>Progress or flow state</li> <li>Any per-user information</li> </ul> <p>User-level data is automatically scoped to the current user, so you don\u2019t need to manage user IDs manually.</p>"},{"location":"user-instance/advance-use/","title":"User Advance","text":""},{"location":"user-instance/advance-use/#custom-usage","title":"Custom Usage","text":"<p>This section covers advanced User instance usage.</p> <p>It includes object-based operations and working with user data beyond simple string-based calls.</p>"},{"location":"user-instance/advance-use/#object-based-operations","title":"Object-Based Operations","text":"<p>In addition to string-based methods, the User instance supports object-style usage.</p> <p>This allows passing extra options when needed.</p>"},{"location":"user-instance/advance-use/#setting-data-with-object-format","title":"Setting Data with Object Format","text":"<pre><code>User.set({\n  key: \"score\",\n  value: 100\n})\n</code></pre> <p>This behaves the same as string-based <code>User.set</code>, but allows more flexibility.</p>"},{"location":"user-instance/advance-use/#working-with-a-specific-user","title":"Working with a Specific User","text":"<p>You can explicitly target a specific user by passing <code>user_id</code>.</p> <p>This is useful for admin tools or background logic.</p>"},{"location":"user-instance/advance-use/#example","title":"Example","text":"<pre><code>User.set({\n  key: \"status\",\n  value: \"verified\",\n  user_id: 123456789\n})\n</code></pre> <p>If <code>user_id</code> is not provided, the current user is used automatically.</p>"},{"location":"user-instance/advance-use/#reading-data-for-a-specific-user","title":"Reading Data for a Specific User","text":"<pre><code>let status = User.get({\n  key: \"status\",\n  user_id: 123456789\n})\n</code></pre> <p>This reads data from the specified user instead of the current one.</p>"},{"location":"user-instance/advance-use/#deleting-data-for-a-specific-user","title":"Deleting Data for a Specific User","text":"<pre><code>User.del({\n  key: \"status\",\n  user_id: 123456789\n})\n</code></pre> <p>Only the targeted user\u2019s data is affected.</p>"},{"location":"user-instance/advance-use/#notes","title":"Notes","text":"<ul> <li>Object format is optional</li> <li>Useful for advanced flows and admin logic</li> <li>All data remains isolated per user</li> <li>User-level storage is independent from Bot-level storage</li> <li>Use this carefully to avoid unintended changes to other users</li> </ul>"},{"location":"user-instance/basics/","title":"User Basics","text":""},{"location":"user-instance/basics/#basic-operations","title":"Basic Operations","text":"<p>Use the User instance to store and read data at the user level.</p> <p>All operations here use the string-based method format and apply only to the current user.</p>"},{"location":"user-instance/basics/#saving-user-data","title":"Saving User Data","text":"<p>Use <code>User.set()</code> to store values.</p> <pre><code>User.set(\"name\", \"Alice\")\nUser.set(\"age\", 25, \"number\")\n</code></pre> <ul> <li>First argument: key  </li> <li>Second argument: value  </li> <li>Third argument (optional): data type  </li> </ul> <p>If the type is not provided, TBL will auto-detect it.</p>"},{"location":"user-instance/basics/#reading-user-data","title":"Reading User Data","text":"<p>Use <code>User.get()</code> to read stored values.</p> <pre><code>let name = User.get(\"name\")\nlet age = User.get(\"age\")\n\nBot.sendMessage(\"Name: \" + name + \", Age: \" + age)\n</code></pre> <p>Reading data is synchronous and returns the value directly.</p> <p>If a key does not exist, it returns <code>null</code>.</p>"},{"location":"user-instance/basics/#deleting-a-single-value","title":"Deleting a Single Value","text":"<p>Remove a specific value when it\u2019s no longer needed.</p> <pre><code>User.del(\"age\")\n\nlet age = User.get(\"age\")   // null\nBot.sendMessage(\"After delete, age = \" + age)\n</code></pre> <p>Deleting a non-existing key does nothing and does not throw an error.</p>"},{"location":"user-instance/basics/#bulk-operations","title":"Bulk Operations","text":"<p>Bulk operations let you work with all stored user data at once.</p> <p>These are useful when you want to inspect or reset the user\u2019s data.</p>"},{"location":"user-instance/basics/#get-all-user-data","title":"Get All User Data","text":"<pre><code>let all = User.getAll()\nBot.inspect(all)\n</code></pre> <p>Example output:</p> <pre><code>{\n  \"name\": \"Alice\",\n  \"age\": 25\n}\n</code></pre> <p>This returns an object containing all stored keys and values for the user.</p>"},{"location":"user-instance/basics/#delete-all-user-data","title":"Delete All User Data","text":"<pre><code>User.delAll()\n\nlet all2 = User.getAll()\nBot.inspect(all2)\n</code></pre> <p>This clears all data for the current user.</p>"},{"location":"user-instance/basics/#notes","title":"Notes","text":"<ul> <li>All data is stored at the user level</li> <li>Data is private and isolated per user</li> <li>Only string-based methods are used here</li> <li>Reading (<code>get</code>, <code>getAll</code>) is synchronous</li> <li>Saving and deleting do not require <code>await</code></li> <li>Missing keys always return <code>null</code></li> </ul>"},{"location":"webhook-instance/","title":"Webhook Instance","text":"<p>The Webhook instance is used to generate secure webhook URLs for your bot.</p> <p>These URLs allow external sources\u2014such as websites, APIs, or dashboards\u2014to trigger bot commands directly.</p> <p>Each webhook URL is protected using cryptographic signatures, ensuring that only valid and authorized requests can execute commands.</p> <p>This is useful when you want:</p> <ul> <li>Website \u2192 bot interactions</li> <li>API-driven bot actions</li> <li>Secure external triggers</li> <li>Automation without exposing bot tokens</li> </ul> <p>Webhook-triggered commands behave like normal TBL commands, but are executed through a secure HTTP endpoint.</p>"},{"location":"webhook-instance/global-webhook/","title":"Global Webhook","text":""},{"location":"webhook-instance/global-webhook/#global-webhooks","title":"Global Webhooks","text":"<p>Global webhooks execute commands without any user context.</p> <p>They are designed for system-level or public actions where no specific user or chat is involved.</p> <p>In global webhooks:</p> <ul> <li><code>user</code> is <code>null</code></li> <li><code>chat</code> is <code>null</code></li> <li>The command runs at the account level</li> </ul> <p>These are ideal for dashboards, public pages, cron jobs, or backend services.</p>"},{"location":"webhook-instance/global-webhook/#generate-a-global-webhook-url","title":"Generate a Global Webhook URL","text":""},{"location":"webhook-instance/global-webhook/#getglobalurlcommand-options-params-redirect","title":"getGlobalUrl(command, { options, params, redirect })","text":"<p>Creates a globally accessible webhook URL.</p> <p>This URL does not require user authentication and can be triggered by any external source.</p> <ul> <li><code>command</code> \u2192 command to execute</li> <li><code>options</code> \u2192 custom data passed to the command</li> <li><code>params</code> \u2192 extra query parameters</li> <li><code>redirect</code> \u2192 optional URL to redirect after execution</li> </ul> <p>Example:</p> <pre><code>let statsUrl = Webhook.getGlobalUrl(\"getStats\", {\n  options: { days: 30 },\n  redirect: \"https://telebothost.com\",\n  params: { ref: \"home\" }\n})\n\nApi.sendMessage({\n  text: `View global statistics: ${statsUrl}`\n})\n</code></pre>"},{"location":"webhook-instance/global-webhook/#how-global-webhooks-behave","title":"How Global Webhooks Behave","text":"<ul> <li>Commands run without user or chat data</li> <li>Useful for account-wide logic</li> <li>Suitable for read-only or system actions</li> <li>Safe for public or automated triggers</li> </ul> <p>Warning</p> <p>Since global webhooks have no user context, avoid using them for actions that modify user data.</p>"},{"location":"webhook-instance/global-webhook/#execution-response","title":"Execution &amp; Response","text":"<ul> <li>Global webhook execution returns a 2xx HTTP response by default</li> <li>Redirects are handled automatically if <code>redirect</code> is provided</li> <li>You can manually control responses using the res instance</li> </ul>"},{"location":"webhook-instance/global-webhook/#notes","title":"Notes","text":"<ul> <li>Global webhooks are secure and signed</li> <li>Parameters and options are protected</li> <li>Best used for dashboards, analytics, and automation</li> </ul>"},{"location":"webhook-instance/handle-webhook/","title":"Handing Webhook","text":""},{"location":"webhook-instance/handle-webhook/#handling-webhooks","title":"Handling Webhooks","text":"<p>Handling webhooks in TBL is very easy.</p> <p>When a command is triggered via a webhook, you automatically get access to the request object.</p> <p>This object contains all details about the incoming HTTP request.</p>"},{"location":"webhook-instance/handle-webhook/#accessing-the-request-object","title":"Accessing the request Object","text":"<p>Inside a webhook-triggered command, you can read <code>request</code>.</p> <p>Example structure:</p> <pre><code>{\n  \"url\": \"/ownlang/webhook/5484560?command=data&amp;options=%7B%22level%22%3A10%7D&amp;sig=...\",\n  \"method\": \"GET\",\n  \"headers\": {\n    \"host\": \"prod-api.telebothost.com\",\n    \"user-agent\": \"Reqable/2.33.12\",\n    \"x-real-ip\": \"157.34.201.36\"\n  },\n  \"ip\": \"157.34.201.36\",\n  \"query\": {\n    \"command\": \"data\",\n    \"options\": \"{\\\"level\\\":10}\",\n    \"sig\": \"SECURE_SIGNATURE\",\n    \"user\": \"5723455420\",\n    \"ref\": \"profile\",\n    \"lang\": \"en\"\n  },\n  \"body\": null\n}\n</code></pre> <p>This gives you full control over query parameters, headers, IP address, and request method.</p>"},{"location":"webhook-instance/handle-webhook/#difference-from-telegram-updates","title":"Difference from Telegram Updates","text":"<ul> <li>For Telegram updates, data is available under <code>update.{type}</code></li> <li>For webhook execution, data comes from the request object</li> </ul> <p>This makes webhook handling closer to normal HTTP request handling.</p>"},{"location":"webhook-instance/handle-webhook/#message-sending-in-webhooks","title":"Message Sending in Webhooks","text":"<p>All other TBL features work the same inside webhook commands.</p> <p>However, there is one important difference:</p> <p>Warning</p> <p>In global webhooks, there is no user or chat context.</p> <p>Because of this:</p> <ul> <li>Bot message helpers may not work automatically</li> <li>When using <code>Api.xxx</code>, you must pass <code>chat_id</code> explicitly</li> </ul> <p>User-based webhooks do not have this limitation.</p>"},{"location":"webhook-instance/handle-webhook/#security-restrictions","title":"Security &amp; Restrictions","text":"<p>Some features may be restricted or limited in webhook commands.</p> <p>This is intentional and helps:</p> <ul> <li>Prevent abuse</li> <li>Protect system resources</li> <li>Keep webhook execution safe</li> </ul> <p>Note</p> <p>Webhooks are signed and verified automatically. Invalid or modified requests will not execute.</p>"},{"location":"webhook-instance/handle-webhook/#summary","title":"Summary","text":"<ul> <li>Webhook commands receive a <code>request</code> object</li> <li>Query parameters and headers are fully accessible</li> <li>Telegram updates use <code>update</code>, webhooks use <code>request</code></li> <li>Global webhooks require explicit <code>chat_id</code> for sending messages</li> <li>Some features may be disabled for safety</li> </ul>"},{"location":"webhook-instance/sending-webhook-response/","title":"Sending Webhook Response","text":""},{"location":"webhook-instance/sending-webhook-response/#sending-custom-http-responses","title":"Sending Custom HTTP Responses","text":"<p>In webhook commands, you can also send a custom HTTP response back to the server using the built-in res instance.</p> <p>This is useful when:</p> <ul> <li>Building APIs with TBL</li> <li>Returning JSON to external services</li> <li>Acknowledging webhook calls manually</li> <li>Creating custom webhook responses</li> </ul>"},{"location":"webhook-instance/sending-webhook-response/#using-the-res-instance","title":"Using the res Instance","text":"<p>You can send a JSON response like this:</p> <pre><code>res.json({ ok: true })\n</code></pre> <p>This immediately sends a response to the caller and ends execution.</p> <p>You can return any valid JSON object depending on your use case.</p> <p>Tip</p> <p>Use <code>res.json()</code> when your webhook is acting like an API endpoint and the caller expects a structured response.</p>"},{"location":"webhook-instance/sending-webhook-response/#notes","title":"Notes","text":"<ul> <li>The res instance is available only in webhook commands</li> <li>Once a response is sent, no further output is processed</li> <li>If no custom response is sent, a default 2xx response is returned</li> </ul> <p>For full details and advanced usage, see the official documentation:</p>"},{"location":"webhook-instance/user-webhook/","title":"User Based Webhook","text":""},{"location":"webhook-instance/user-webhook/#user-based-webhooks","title":"User-Based Webhooks","text":"<p>User-based webhooks execute commands in the context of a user. This means <code>user</code> and <code>chat</code> are available inside the command.</p> <p>They are useful for triggering bot actions from websites, dashboards, or external APIs on behalf of a user.</p>"},{"location":"webhook-instance/user-webhook/#generate-webhook-for-current-user","title":"Generate Webhook for Current User","text":""},{"location":"webhook-instance/user-webhook/#geturlcommand-options-params-redirect","title":"getUrl(command, { options, params, redirect })","text":"<p>Generates a secure webhook URL for the current user.</p> <ul> <li><code>command</code> \u2192 command to execute</li> <li><code>options</code> \u2192 custom data passed to the command</li> <li><code>params</code> \u2192 extra query parameters</li> <li><code>redirect</code> \u2192 optional URL to redirect after execution</li> </ul> <p>Example:</p> <pre><code>let syncUrl = Webhook.getUrl(\"syncGameData\", {\n  options: { level: 10 },\n  params: { ref: \"profile\", lang: \"en\" }\n})\n\nApi.sendMessage({\n  text: `Sync your game data: ${syncUrl}`\n})\n</code></pre>"},{"location":"webhook-instance/user-webhook/#generate-webhook-for-a-specific-user","title":"Generate Webhook for a Specific User","text":""},{"location":"webhook-instance/user-webhook/#geturlfor-user_id-command-options-params-redirect","title":"getUrlFor({ user_id, command, options, params, redirect })","text":"<p>Generates a personalized webhook URL for a specific user ID.</p> <p>This is ideal for sending links that should work only for a given user.</p> <p>Example:</p> <pre><code>let upgradeUrl = Webhook.getUrlFor({\n  user_id: 123,\n  command: \"syncGameData\",\n  redirect: \"https://telebothost.com\",\n  options: { plan: \"pro\" },\n  params: { ref: \"upgrade\" }\n})\n\nApi.sendMessage({\n  text: `Upgrade your plan here: ${upgradeUrl}`\n})\n</code></pre>"},{"location":"webhook-instance/user-webhook/#example-webhook-url","title":"Example Webhook URL","text":"<p>A generated webhook URL may look like this:</p> <pre><code>https://prod-api.telebothost.com/ownlang/webhook/XXXXXXX\n?command=syncGameData\n&amp;options=%7B%22level%22%3A10%7D\n&amp;sig=SECURE_SIGNATURE\n&amp;user=USER_ID\n&amp;ref=profile\n&amp;lang=en\n</code></pre> <p>Values are signed and protected. Changing them will invalidate the request.</p>"},{"location":"webhook-instance/user-webhook/#execution-response","title":"Execution &amp; Response","text":"<ul> <li>By default, webhook execution returns a 2xx HTTP response</li> <li>This indicates successful command execution</li> <li>Redirects are handled automatically when <code>redirect</code> is provided</li> </ul> <p>Note</p> <p>You can also use the res instance to control the HTTP response manually.</p>"},{"location":"webhook-instance/user-webhook/#notes","title":"Notes","text":"<ul> <li>User-based webhooks always include user context</li> <li><code>user</code> and <code>chat</code> are available in the command</li> <li>Options and params are safely signed</li> <li>URLs cannot be forged or reused for other users</li> <li>Ideal for user-specific actions and flows</li> </ul>"},{"location":"webhook-instance/webhook-types/","title":"Webhook Types","text":"<p>The Webhook instance supports two types of webhook execution, depending on how the webhook is created and used.</p>"},{"location":"webhook-instance/webhook-types/#user-based-webhook","title":"User-Based Webhook","text":"<p>A user-based webhook executes a command in the context of a specific user.</p> <p>In this type:</p> <ul> <li><code>user</code> is available</li> <li><code>chat</code> is available</li> <li>The command behaves like a normal user-triggered command</li> </ul> <p>This is useful when:</p> <ul> <li>A web action should act on behalf of a user</li> <li>You need access to user-specific or chat-specific data</li> <li>The webhook is linked to a logged-in user or session</li> </ul> <p>User-based webhooks allow full interaction with user and chat data.</p>"},{"location":"webhook-instance/webhook-types/#global-webhook","title":"Global Webhook","text":"<p>A global webhook is not tied to any user.</p> <p>In this type:</p> <ul> <li><code>user</code> is <code>null</code></li> <li><code>chat</code> is <code>null</code></li> <li>The command runs at a global level</li> </ul> <p>This is useful when:</p> <ul> <li>The webhook is triggered by a system or service</li> <li>No user context is required</li> <li>You want to perform background or account-level actions</li> </ul>"},{"location":"webhook-instance/webhook-types/#notes","title":"Notes","text":"<ul> <li>Both webhook types are secure and signed</li> <li>Both trigger normal TBL commands</li> <li>The difference is only the availability of <code>user</code> and <code>chat</code></li> </ul>"}]}